<head> 
<title> UNIX Tutorial Three </title> 
</head> 
 
<body bgcolor="white">
<hr size="1" noshade>
<div align="center"><font size="+4" face="Verdana, Arial, Helvetica, sans-serif"><b>UNIX 
  Tutorial Three</b></font> </div>
<hr size="1" noshade>
<blockquote> 
  <table width="80%" border="0" cellpadding="5" bgcolor="#336699">
    <tr> 
      <td> <font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif" size="+1"><b>3.1 
        Redirection</b></font></td>
    </tr>
  </table>
  <blockquote> 
    <p><font face="Verdana, Arial, Helvetica, sans-serif">Most processes initiated 
      by UNIX commands write to the standard output (that is, they write to the 
      terminal screen), and many take their input from the standard input (that 
      is, they read it from the keyboard). There is also the standard error, where 
      processes write their error messages, by default, to the terminal screen. 
      </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> We have already seen 
      one use of the <b><font face="Courier New, Courier, mono" color="#CC0000">cat</font></b> 
      command to write the contents of a file to the screen. </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> Now type <b><font face="Courier New, Courier, mono" color="#CC0000">cat</font></b> 
      without specifing a file to read </font></p>
    <blockquote>
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        cat</font></b></font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">Then type a few words 
      on the keyboard and press the <b>[Return]</b> key. </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> Finally hold the <b>[Ctrl]</b> 
      key down and press <b>d</b> (written as <b>^D</b> for short) to end the 
      input. </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> What has happened? 
      </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> If you run the <b><font face="Courier New, Courier, mono" color="#CC0000">cat</font></b> 
      command without specifing a file to read, it reads the standard input (the 
      keyboard), and on receiving the "end of file" (<b>^D</b>), copies it to 
      the standard output (the screen). </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> In UNIX, we can redirect 
      both the input and the output of commands. </font></p>
  </blockquote>
</blockquote>
<p>
<hr size="1" noshade>
<blockquote> 
  <table width="80%" border="0" cellpadding="5" bgcolor="#336699">
    <tr> 
      <td> <font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif" size="+1"><b>3.2 
        Redirecting the Output</b></font></td>
    </tr>
  </table>
  <blockquote> 
    <p><font face="Verdana, Arial, Helvetica, sans-serif">We use the <b>&gt;</b> 
      symbol to redirect the output of a command. For example, to create a file 
      called <b>list1</b> containing a list of fruit, type </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        cat > list1</font></b></font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">Then type in the names 
      of some fruit. Press <b>[Return]</b> after each one. </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono" color="#CC0000">pear<br>
        banana<br>
        apple<br>
        ^D </font></b>(Control D to stop)</font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">What happens is the 
      cat command reads the standard input (the keyboard) and the <b>&gt;</b> 
      redirects cat's output, which normally goes to the screen, into a file called 
      <b>list1</b> </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> To read the contents 
      of the file, type </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        cat list1</font></b></font></p>
    </blockquote>
    <h3>&nbsp;</h3>
    <h3><font face="Verdana, Arial, Helvetica, sans-serif">Exercise 3a</font></h3>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif">Using the above method, 
        create another file called <b>list2</b> containing the following fruit: 
        orange, plum, mango, grapefruit. Read the contents of <b>list2</b> </font></p>
    </blockquote>
    <p>&nbsp;</p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">The form <b>&gt;&gt;</b> 
      appends standard output to a file. So to add more items to the file <b>list1</b>, 
      type </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        cat &gt;&gt; list1</font></b></font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">Then type in the names 
      of more fruit </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono" color="#CC0000">peach<br>
        grape<br>
        pineapple<br>
        ^D </font></b><font face="Verdana, Arial, Helvetica, sans-serif">(Control 
        D to stop)</font></font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">To read the contents 
      of the file, type </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        cat list1</font></b></font></p>
    </blockquote>
    <p>&nbsp;</p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">You should now have 
      two files. One contains six fruit, the other contains four fruit. We will 
      now use the cat command to join (concatenate) <b>list1</b> and <b>list2</b> 
      into a new file called <b>biglist</b>. Type </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        cat list1 list2 &gt; biglist</font></b></font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">What this is doing is 
      reading the contents of <b>list1</b> and <b>list2</b> in turn, then outputing 
      the text to the file <b>biglist</b> </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> To read the contents 
      of the new file, type </font></p>
    <blockquote>
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        cat biglist</font></b></font></p>
    </blockquote>
  </blockquote>
</blockquote>
<p>
<p> 
<hr size="1" noshade>
<blockquote> 
  <table width="80%" border="0" cellpadding="5" bgcolor="#336699">
    <tr> 
      <td> <font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif" size="+1"><b>3.3 
        Redirecting the Input</b></font></td>
    </tr>
  </table>
  <blockquote> 
    <p><font face="Verdana, Arial, Helvetica, sans-serif">We use the <b>&lt;</b> 
      symbol to redirect the input of a command. </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> The command sort alphabetically 
      or numerically sorts a list. Type </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <font face="Courier New, Courier, mono"><b>%</b></font><b><font face="Courier New, Courier, mono"></font><font face="Courier New, Courier, mono" color="#CC0000"> 
        sort</font></b> </font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> Then type in the names 
      of some vegetables. Press [Return] after each one. </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono" color="#CC0000">carrot<br>
        beetroot<br>
        artichoke<br>
        ^D</font></b> (control d to stop)<br>
        </font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> The output will be 
      </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">artichoke<br>
        beetroot <br>
        carrot </font></b> </font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> Using <b>&lt;</b> you 
      can redirect the input to come from a file rather than the keyboard. For 
      example, to sort the list of fruit, type </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        sort &lt; biglist</font></b> </font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> and the sorted list 
      will be output to the screen. </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> To output the sorted 
      list to a file, type, </font></p>
    <blockquote>
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        sort &lt; biglist &gt; slist</font></b> </font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> Use cat to read the 
      contents of the file <b>slist</b> </font></p>
  </blockquote>
  <p>&nbsp; </p>
</blockquote>
<p> 
<p> 
<hr size="1" noshade>
<blockquote> 
  <table width="80%" border="0" cellpadding="5" bgcolor="#336699">
    <tr> 
      <td> <font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif" size="+1"><b>3.4 
        Pipes</b></font></td>
    </tr>
  </table>
  <blockquote> 
    <p><font face="Verdana, Arial, Helvetica, sans-serif">To see who is on the 
      system with you, type </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        who</font></b> </font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">One method to get a 
      sorted list of names is to type, </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        who &gt; names.txt<br>
        </font><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        sort &lt; names.txt </font></b><font face="Courier New, Courier, mono" color="#CC0000"> 
        </font> </font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">This is a bit slow and 
      you have to remember to remove the temporary file called names when you 
      have finished. What you really want to do is connect the output of the who 
      command directly to the input of the sort command. This is exactly what 
      pipes do. The symbol for a pipe is <b>|</b> </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> For example, typing 
      </font></p>
    <blockquote> 
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        who | sort </font></b> </font></p>
    </blockquote>
    <p><font face="Verdana, Arial, Helvetica, sans-serif">will give the same result 
      as above, but quicker and cleaner. </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> To find out how many 
      users are logged on, type </font></p>
    <blockquote>
      <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono">%</font><font face="Courier New, Courier, mono" color="#CC0000"> 
        who | wc -l </font></b><br>
        </font></p>
    </blockquote>
    <h3><font face="Verdana, Arial, Helvetica, sans-serif">Exercise 3b</font></h3>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> <b><font face="Courier New, Courier, mono" color="#CC0000">a2ps 
      <i>textfile</i> > <i>psfile</i></font></b> is the command to convert a text 
      file to a postscript file. </font></p>
    <p><font face="Courier New, Courier, mono" color="#CC0000"><b>lpr -Pgoya <i>psfile</i></b></font><font face="Verdana, Arial, Helvetica, sans-serif"> 
      is the command to print a postscript file to the printer "goya". </font></p>
    <p><font face="Verdana, Arial, Helvetica, sans-serif"> Using a pipe, print 
      the text file <b>slist</b> to the postscript printer "goya". </font></p>
    <p>&nbsp; </p>
  </blockquote>
</blockquote>
<p>
<p> 
<p> 
<hr size="1" noshade>
<blockquote>
<table width="80%" border="0" cellpadding="5" bgcolor="#336699">
    <tr> 
      <td> <font color="#FFFFFF" face="Verdana, Arial, Helvetica, sans-serif" size="+1"><b>Summary</b></font></td>
    </tr>
  </table>
<blockquote>
    <table border="0" cellpadding="5">
      <tr> 
        <td><b><font face="Courier New, Courier, mono" color="#CC0000">command 
          > <i>file</i></font></b></td>
        <td><font face="Verdana, Arial, Helvetica, sans-serif">redirect standard 
          output to a file</font></td>
      </tr>
      <tr> 
        <td><b><font face="Courier New, Courier, mono" color="#CC0000">command 
          >> <i>file</i></font></b></td>
        <td><font face="Verdana, Arial, Helvetica, sans-serif">append standard 
          output to a file </font></td>
      </tr>
      <tr> 
        <td><b><font face="Courier New, Courier, mono" color="#CC0000">command 
          < <i>file</i></font></b></td>
        <td><font face="Verdana, Arial, Helvetica, sans-serif">redirect standard 
          input from a file</font></td>
      </tr>
      <tr> 
        <td><b><font face="Courier New, Courier, mono" color="#CC0000">command1 
          | command2</font></b></td>
        <td><font face="Verdana, Arial, Helvetica, sans-serif">pipe the output 
          of command1 to the input of command2</font></td>
      </tr>
      <tr> 
        <td><b><font face="Courier New, Courier, mono" color="#CC0000">cat <i>file1</i> 
          <i>file2</i> > <i>file0</i></font></b></td>
        <td><font face="Verdana, Arial, Helvetica, sans-serif">concatenate file1 
          and file2 to file0</font></td>
      </tr>
      <tr> 
        <td><b><font face="Courier New, Courier, mono" color="#CC0000">sort</font></b></td>
        <td><font face="Verdana, Arial, Helvetica, sans-serif">sort data</font></td>
      </tr>
      <tr> 
        <td><b><font face="Courier New, Courier, mono" color="#CC0000">who</font></b></td>
        <td><font face="Verdana, Arial, Helvetica, sans-serif">list users currently 
          logged in</font></td>
      </tr>
      <tr> 
        <td><b><font face="Courier New, Courier, mono" color="#CC0000">a2ps <i>textfile</i> 
          &gt; <i>psfile</i></font></b></td>
        <td><font face="Verdana, Arial, Helvetica, sans-serif">convert text file 
          to postscript file</font></td>
      </tr>
      <tr> 
        <td><b><font face="Courier New, Courier, mono" color="#CC0000">lpr -P<i>printer</i> 
          <i>psfile</i></font></b></td>
        <td><font face="Verdana, Arial, Helvetica, sans-serif">print postscript 
          file to named printer</font></td>
      </tr>
    </table>
</blockquote></blockquote>
   
<hr size="1" noshade>
<address><font face="Verdana, Arial, Helvetica, sans-serif"><b><font size="-1">M.Stonebank@surrey.ac.uk</font></b></font></address>
<address><font size="-1"><b><font face="Verdana, Arial, Helvetica, sans-serif"> 
&copy; 9th October 2000 </font></b></font></address>
<p>
</body> 
