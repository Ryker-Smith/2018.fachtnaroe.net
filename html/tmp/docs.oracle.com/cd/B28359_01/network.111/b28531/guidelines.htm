<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Keeping Your Oracle Database Secure</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="dcterms.created" content="2014-01-15T13:27:5Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Security Guide" />
<meta name="dcterms.identifier" content="B28531-21" />
<meta name="dcterms.isVersionOf" content="DBSEG" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="auditing.htm" title="Previous" type="text/html" />
<link rel="Next" href="glossary.htm" title="Next" type="text/html" />
<link rel="alternate" href="../b28531.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../B28531-21.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../B28531-21.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">17/19</span> <!-- End Header -->
<div id="DBSEG009" class="chapter"><a id="CHDCEBFA"></a>
<h1 class="chapter"><span class="secnum">10</span> Keeping Your Oracle Database Secure</h1>
<p>This chapter contains:</p>
<ul>
<li>
<p><a href="#CHDCCAEC">About the Security Guidelines in This Chapter</a></p>
</li>
<li>
<p><a href="#CHDBIFGA">Downloading Security Patches and Contacting Oracle Regarding Vulnerabilities</a></p>
</li>
<li>
<p><a href="#CHDHFIFG">Guidelines for Securing User Accounts and Privileges</a></p>
</li>
<li>
<p><a href="#CHDGIEJE">Guidelines for Securing Roles</a></p>
</li>
<li>
<p><a href="#CHDEGEIF">Guidelines for Securing Passwords</a></p>
</li>
<li>
<p><a href="#i1007433">Guidelines for Securing Data</a></p>
</li>
<li>
<p><a href="#i1007892">Guidelines for Securing a Database Installation and Configuration</a></p>
</li>
<li>
<p><a href="#i1009371">Guidelines for Securing the Network</a></p>
</li>
<li>
<p><a href="#BCGJJBAA">Guidelines for Auditing</a></p>
</li>
<li>
<p><a href="#CHDFECGD">Addressing the CONNECT Role Change</a></p>
</li>
</ul>
<a id="CHDCCAEC"></a>
<div id="DBSEG98446" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About the Security Guidelines in This Chapter</h2>
<p>This chapter provides a set of guidelines to keep your Oracle database secure. Information security, and privacy and protection of corporate assets and data are critical in any business. Oracle Database comprehensively addresses the need for information security by providing cutting-edge security features such as deep data protection, auditing, scalable security, secure hosting, and data exchange.</p>
<p>Oracle Database leads the industry in security. To maximize the security features offered by Oracle Database in any business environment, it is imperative that the database itself be well protected.</p>
<p>Security guidelines provide advice about how to configure Oracle Database to be secure by adhering to and recommending industry-standard and advisable security practices for operational database deployments. Many of the guidelines described in this section address common regulatory requirements such as those described in the Sarbanes-Oxley Act. For more information about how Oracle Database addresses regulatory compliance, protection of personally identifiable information, and internal threats, visit:</p>
<p><code><a href="http://www.oracle.com/technetwork/topics/security/whatsnew/index.html">http://www.oracle.com/technetwork/topics/security/whatsnew/index.html</a></code></p>
</div>
<!-- class="sect1" -->
<a id="CHDBIFGA"></a>
<div id="DBSEG98447" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Downloading Security Patches and Contacting Oracle Regarding Vulnerabilities</h2>
<p>This section contains:</p>
<ul>
<li>
<p><a href="#CHDDAAEF">Applying Security Patches and Workaround Solutions</a></p>
</li>
<li>
<p><a href="#CHDDIIAD">Contacting Oracle Security Regarding Vulnerabilities in Oracle Database</a></p>
</li>
</ul>
<a id="CHDDAAEF"></a>
<div id="DBSEG98448" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Applying Security Patches and Workaround Solutions</h3>
<p>Always apply all relevant <span class="bold"><a id="sthref1802"></a></span>security patches for both the operating system on which Oracle Database resides and Oracle Database itself, and for all installed Oracle Database options and components.</p>
<p>Periodically check the security site on <a id="sthref1803"></a>Oracle Technology Network for details about <a id="sthref1804"></a>security alerts released by Oracle at</p>
<p><code><a href="http://www.oracle.com/technetwork/topics/security/alerts-086861.html">http://www.oracle.com/technetwork/topics/security/alerts-086861.html</a></code></p>
<p>Also check the Oracle Worldwide Support Service site, <a id="sthref1805"></a><a id="sthref1806"></a>My Oracle Support, for details about available and upcoming security-related patches at</p>
<p><code><a href="https://support.oracle.com/">https://support.oracle.com/</a></code></p>
</div>
<!-- class="sect2" -->
<a id="CHDDIIAD"></a>
<div id="DBSEG98449" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Contacting Oracle Security Regarding Vulnerabilities in Oracle Database</h3>
<p>If you are an Oracle customer or an Oracle partner, use My Oracle Support to submit a Service Request on any potential Oracle product security vulnerability. Otherwise, send an email to <code>secalert_us@oracle.com</code> with a complete description of the problem, including product version and platform, together with any scripts and examples. Oracle encourages those who want to contact Oracle Security to employ email encryption, using our encryption key.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDHFIFG"></a>
<div id="DBSEG98450" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Guidelines for Securing User Accounts and Privileges</h2>
<p><a id="sthref1807"></a>Follow these guidelines to secure user accounts and privileges:</p>
<ol>
<li id="CHDBEBDE">
<p><span class="bold">Practice the principle of <a id="sthref1808"></a><a id="sthref1809"></a>least privilege.</span></p>
<p>Oracle recommends the following guidelines:</p>
<ol>
<li>
<p><span class="bold">Grant necessary privileges only.</span></p>
<p>Do not provide database users or roles more privileges than are necessary. (If possible, grant privileges to roles, not users.) In other words, the <span class="italic">principle of least <a id="sthref1810"></a><a id="sthref1811"></a>privilege</span> is that users be given only those privileges that are actually required to efficiently perform their jobs.</p>
<p>To implement <span class="bold"><a id="sthref1812"></a><a id="sthref1813"></a></span>this principle, restrict the following as much as possible:</p>
<ul>
<li>
<p>The number of <code>SYSTEM</code> and <code>OBJECT</code> <a id="sthref1814"></a><a id="sthref1815"></a><a id="sthref1816"></a>privileges granted to database users.</p>
</li>
<li>
<p>The number of people who are allowed to make <code><a id="sthref1817"></a><a id="sthref1818"></a>SYS</code>-privileged connections to the database.</p>
</li>
<li>
<p>The number of users who are granted the <code>ANY</code> privileges, such as the <code>DROP ANY TABLE</code> privilege. For example, there is generally no need to grant <code><a id="sthref1819"></a>CREATE ANY TABLE</code> privileges to a non-DBA-privileged user.</p>
</li>
<li>
<p>The number of users who are allowed to perform actions that create, modify, or drop database objects, such as the <code>TRUNCATE TABLE</code>, <code>DELETE TABLE</code>, <code>DROP TABLE</code> statements, and so on.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Restrict the CREATE ANY JOB, BECOME USER, EXP_FULL_DATABASE, and IMP_FULL_DATABASE privileges.</span></p>
<p>These are powerful security-related privileges. Only grant these privileges to users who need them.</p>
</li>
<li>
<p><span class="bold">Restrict library-related privileges to trusted users only.</span></p>
<p>The <code><a id="sthref1820"></a><a id="sthref1821"></a></code><code>CREATE LIBRARY</code>, <a id="sthref1822"></a><code>CREATE ANY LIBRARY</code>, <a id="sthref1823"></a><code>ALTER ANY LIBRARY</code>, and <a id="sthref1824"></a><code>EXECUTE ANY LIBRARY</code> privileges, and grants of <code>EXECUTE ON</code> <code><span class="codeinlineitalic">library_name</span></code> convey a great deal of power to users. If you plan to create PL/SQL interfaces to libraries, only grant the <code>EXECUTE</code> privilege to the PL/SQL interface. Do not grant <code>EXECUTE</code> on the underlying library. You must have the <code>EXECUTE</code> privilege on a library to create the PL/SQL interface to it. However, users have this privilege implicitly on libraries that they create in their own schemas. Explicit grants of <code>EXECUTE ON</code> <code><span class="codeinlineitalic">library_name</span></code> are rarely required. Only make an explicit grant of these privileges to trusted users, and never to the <code>PUBLIC</code> role.</p>
</li>
<li>
<p><span class="bold">Restrict synonym-related privileges to trusted users only.</span></p>
<p>The<a id="sthref1825"></a> <code>CREATE PUBLIC SYNONYM</code> and <code>DROP PUBLIC SYNONYM</code> system privileges convey a great deal of power to these users. Do not grant these privileges to users, unless they are trusted.</p>
</li>
<li>
<p><span class="bold">Do not allow non-administrative users access to objects owned by the SYS schema.</span></p>
<p>Do not allow users to alter table rows or schema objects in the <code>SYS</code> schema, because doing so can compromise data integrity. Limit the use of statements such as <code>DROP TABLE</code>, <code>TRUNCATE TABLE</code>, <code>DELETE</code>, <code>INSERT</code>, or similar object-modification statements on <code>SYS</code> objects only to highly privileged administrative users.</p>
<p>The <code>SYS</code> schema owns the data dictionary. You can protect the data dictionary by setting the <code>O7_DICTIONARY_ACCESSIBILITY</code> parameter to <code>FALSE</code>. See Guideline <a href="#CHDDDBGD">1</a> under <a href="#i1007433">"Guidelines for Securing Data"</a> for more information.</p>
</li>
<li>
<p><span class="bold">Restrict permissions on run-time</span> <a id="sthref1826"></a><span class="bold">facilities.</span></p>
<p><a id="sthref1827"></a><a id="sthref1828"></a>Many Oracle Database products use run-time facilities, such as Oracle Java Virtual <a id="sthref1829"></a>Machine (OJVM). Do not assign <a id="sthref1830"></a>all permissions to a database run-time facility. Instead, grant specific permissions to the explicit document root <a id="sthref1831"></a>file paths for facilities that might run files and packages outside the database.</p>
<p>Here is an example of a <a id="sthref1832"></a>vulnerable run-time call, which individual files are specified:</p>
<pre>
call dbms_java.grant_permission('wsmith', 'SYS:java.io.FilePermission','&lt;&lt;ALL FILES&gt;&gt;','read');
</pre>
<p>Here is an example of a better (more <a id="sthref1833"></a>secure) run-time call, which specifies a directory path instead:</p>
<pre>
call dbms_java.grant_permission('wsmith', 'SYS:java.io.FilePermission','&lt;&lt;actual directory path&gt;&gt;','read');
</pre></li>
</ol>
</li>
<li id="CHDDCCHA">
<p><span class="bold">Lock and <a id="sthref1834"></a>expire default (predefined) <a id="sthref1835"></a><a id="sthref1836"></a>user accounts.</span></p>
<p>Oracle Database installs with several default database user accounts. Upon successful installation of the database, the <a id="sthref1837"></a>Database Configuration Assistant automatically locks and expires most default <span class="bold"><a id="sthref1838"></a><a id="sthref1839"></a></span>database user accounts.</p>
<p>If you perform a manual (without using Database Configuration Assistant) installation of Oracle Database, then no default database users are locked upon successful installation of the database server. Or, if you have upgraded from a previous release of Oracle Database, you may have default accounts from earlier releases. Left open in their default states, these user accounts can be exploited, to gain unauthorized access to data or disrupt database operations.</p>
<p>You should <span class="italic">lock</span> <span class="italic"><a id="sthref1840"></a></span>and <span class="italic">expire</span> all default database user accounts. Oracle Database provides SQL statements to perform these operations. For example:</p>
<pre>
ALTER USER ANONYMOUS PASSWORD EXPIRE ACCOUNT LOCK;
</pre>
<p>See <a class="olink SQLRF01103" href="../../server.111/b28286/statements_4003.htm#SQLRF01103"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code>ALTER USER</code> statement.</p>
<p>Installing additional products and components after the initial installation also results in creating more default database accounts. Database Configuration Assistant automatically locks and expires all additionally created database user accounts. Unlock only those accounts that must be accessed on a regular basis and assign a strong, meaningful password to each of these unlocked accounts. Oracle provides SQL and password management to perform these operations.</p>
<p>If any default database user account other than the ones left open is required for any reason, then a database administrator (DBA) must unlock and activate that account with a new, secure password.</p>
<p>See <a class="olink TDPSG20030" href="../../server.111/b28337/tdpsg_user_accounts.htm#TDPSG20030"><span class="italic">Oracle Database 2 Day + Security Guide</span></a> for a description of the predefined user accounts that are created when you install Oracle Database.</p>
<p>If a default database user account, other than the ones left open, is required for any reason, then a database administrator (DBA) can unlock and activate that account with a new, secure password.</p>
<p><span class="bold"><a id="sthref1841"></a>Oracle Enterprise Manager Accounts</span></p>
<p>If you install Oracle Enterprise Manager, the <code>SYSMAN</code> and <code>DBSNMP</code> accounts are open, unless you configure Oracle Enterprise Manager for central administration. In this case, the <code>SYSMAN</code> account (if present) will be locked.</p>
<p>If you do not install Oracle Enterprise Manager, then only the <code>SYS</code> and <code>SYSTEM</code> accounts are open. Database Configuration Assistant locks and expires all other accounts (including <code>SYSMAN</code> and <code>DBSNMP</code>).</p>
</li>
<li id="CHDIGBFE">
<p><span class="bold">Use the following views to ensure that access is granted. Only users and roles that need access should be granted access to them.</span></p>
<ul>
<li>
<p><code>DBA_</code>*</p>
</li>
<li>
<p><code>DBA_ROLES</code></p>
</li>
<li>
<p><code>DBA_SYS_PRIVS</code></p>
</li>
<li>
<p><code>DBA_ROLE_PRIVS</code></p>
</li>
<li>
<p><code>DBA_TAB_PRIVS</code></p>
</li>
<li>
<p><code>DBA_AUDIT_TRAIL</code> (if standard auditing is enabled)</p>
</li>
<li>
<p><code>DBA_FGA_AUDIT_TRAIL</code> (if fine-grained auditing is enabled)</p>
</li>
</ul>
</li>
<li id="CHDJGHIC">
<p><span class="bold">Monitor the granting of the following privileges only to users and roles who need these privileges.</span></p>
<p>By default, Oracle Database audits the following privileges:</p>
<ul>
<li>
<p><code>ALTER SYSTEM</code></p>
</li>
<li>
<p><code>AUDIT SYSTEM</code></p>
</li>
<li>
<p><code>CREATE EXTERNAL JOB</code></p>
</li>
</ul>
<p>Oracle recommends that you also audit the following privileges:</p>
<ul>
<li>
<p><code>ALL PRIVILEGES</code> (which includes privileges such as <code>BECOME USER</code>, <code>CREATE LIBRARY</code>, and <code>CREATE PROCEDURE</code>)</p>
</li>
<li>
<p><code>DBMS_BACKUP_RESTORE</code> package</p>
</li>
<li>
<p><code>EXECUTE</code> to <code>DBMS_SYS_SQL</code></p>
</li>
<li>
<p><code>SELECT ANY TABLE</code></p>
</li>
<li>
<p><code>SELECT</code> on <code>PERFSTAT.STATS$SQLTEXT</code></p>
</li>
<li>
<p><code>SELECT</code> on <code>PERFSTAT.STATS$SQL_SUMMARY</code></p>
</li>
<li>
<p><code>SELECT</code> on <code>SYS.SOURCE$</code></p>
</li>
<li>
<p>Privileges that have the <code>WITH ADMIN</code> clause</p>
</li>
<li>
<p>Privileges that have the <code>WITH GRANT</code> clause</p>
</li>
<li>
<p>Privileges that have the <code>CREATE</code> keyword</p>
</li>
</ul>
</li>
<li id="CHDBFCDJ">
<p><span class="bold">Revoke access to the following:</span></p>
<ul>
<li>
<p>The <code>SYS.USER_HISTORY$</code> table from all users except <code>SYS</code> and <code>DBA</code> accounts</p>
</li>
<li>
<p>The <code>RESOURCE</code> role from typical application accounts</p>
</li>
<li>
<p>The <code>CONNECT</code> role from typical application accounts</p>
</li>
<li>
<p>The <code>DBA</code> role from users who do not need this role</p>
</li>
</ul>
</li>
<li id="CHDDAFDB">
<p><span class="bold">Grant privileges only to roles.</span></p>
<p>Granting privileges to roles and not individual users makes the management and tracking of privileges much easier.</p>
</li>
<li id="CHDCEIHJ">
<p><span class="bold">Limit the proxy account (for proxy authorization) privileges to CREATE SESSION only.</span></p>
</li>
<li id="CHDIFFAE">
<p><span class="bold">Use secure application roles to protect roles that are enabled by application code.</span></p>
<p>Secure application roles allow you to define a set of conditions, within a PL/SQL package, that determine whether or not a user can log on to an application. Users do not need to use a password with secure application roles.</p>
<p>Another approach to protecting roles from being enabled or disabled in an application is the use of role passwords. This approach prevents a user from directly accessing the database in SQL (rather than the application) to enable the privileges associated with the role. However, Oracle recommends that you use secure application roles instead, to avoid having to manage another set of passwords.</p>
</li>
<li id="CHDFHJCJ">
<p><span class="bold">Discourage users from using the NOLOGGING clause in SQL statements.</span></p>
<p>In some SQL statements, the user has the option of specifying the <code>NOLOGGING</code> clause, which indicates that the database operation is not logged in the online redo log file. Even though the user specifies the clause, a redo record is still written to the online redo log file. However, there is no data associated with this record. Because of this, using <code>NOLOGGING</code> has the potential for malicious code to be entered can be accomplished without an audit trail.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CHDGIEJE"></a>
<div id="DBSEG10004" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Guidelines for Securing Roles</h2>
<p><a id="sthref1842"></a>Follow these guidelines when managing roles:</p>
<ol>
<li>
<p><span class="bold">Grant a role to users only if they need all privileges of the role.</span></p>
<p>Roles (groups of privileges) are useful for quickly and easily granting permissions to users. Although you can use Oracle-defined roles, you have more control and continuity if you <a id="sthref1843"></a>create your own roles containing only the privileges pertaining to your requirements. Oracle may change or remove the privileges in an Oracle Database-defined role, as it has with the <code>CONNECT</code> role, which now has only the <code>CREATE SESSION</code> privilege. Formerly, this role had eight other privileges.</p>
<p>Ensure that the <a id="sthref1844"></a>roles you define contain only the privileges that reflect job responsibility. If your application users do not need all the privileges encompassed by an existing role, then apply a different set of roles that supply just the correct privileges. Alternatively, create and assign a more restricted role.</p>
<p>For example, it is imperative to strictly limit the privileges of user <a id="sthref1845"></a><code>SCOTT</code>, because this is a well known account that may be vulnerable to intruders. Because the <code>CREATE DBLINK</code> privilege allows access from one database to another, drop its privilege for <code>SCOTT</code>. Then, drop the entire role for the user, because privileges acquired by means of a role cannot be dropped individually. Re-create your own role with only the privileges needed, and grant that new role to that user. Similarly, for better security, drop the <code>CREATE DBLINK</code> privilege from all users who do not require it.</p>
</li>
<li>
<p><span class="bold">Do not grant user roles to application developers.</span></p>
<p>Roles are not meant to be used by application developers, because the privileges to access schema objects within stored programmatic constructs must be granted directly. Remember that roles are not enabled within stored procedures except for invoker's right procedures. See <a href="authorization.htm#i1007304">"How Roles Work in PL/SQL Blocks"</a> for information about this topic.</p>
</li>
<li>
<p><span class="bold">Create and assign roles specific to each Oracle Database installation.</span></p>
<p>This principle enables the organization to retain detailed control of its roles and privileges. This also avoids the necessity to adjust if Oracle Database changes or removes Oracle Database-defined roles, as it has with <code>CONNECT</code>, which now has only the <a id="sthref1846"></a><code>CREATE SESSION</code> privilege. Formerly, it also had eight other privileges.</p>
</li>
<li>
<p><span class="bold">For enterprise users, create global roles.</span></p>
<p>Global roles are managed by an enterprise directory service, such as Oracle Internet Directory. See the following sections for more information about global roles:</p>
<ul>
<li>
<p><a href="authentication.htm#i1006269">"Configuring Global User Authentication and Authorization"</a></p>
</li>
<li>
<p><a href="authorization.htm#BABFAABG">"Global Role Authorization by an Enterprise Directory Service"</a></p>
</li>
<li>
<p><a class="olink DBIMI" href="../b28528/toc.htm"><span class="italic">Oracle Database Enterprise User Security Administrator's Guide</span></a></p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CHDEGEIF"></a>
<div id="DBSEG10005" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Guidelines for Securing Passwords</h2>
<p>When <a id="sthref1847"></a><a id="sthref1848"></a><a id="sthref1849"></a>you create a user account, Oracle Database assigns a default password policy for that user. The password policy defines rules for how the password should be created, such as a minimum number of characters, when it expires, and so on. You can strengthen passwords by using password policies. See also <a href="authentication.htm#CHDCJDHA">"Configuring Password Protection"</a> for additional ways to protect passwords.</p>
<p>Follow these guidelines to further strengthen passwords:</p>
<ol>
<li id="CHDDCHAH">
<p>Choose passwords carefully.</p>
<p><a href="authentication.htm#CHDFDHAJ">"Minimum Requirements for Passwords"</a> describes the minimum requirements for passwords. Follow these additional guidelines when you create or change passwords:</p>
<ul>
<li>
<p>Make<a id="sthref1850"></a> the password between 12 and 30 characters and numbers.</p>
</li>
<li>
<p>Use mixed case letters and special characters in the password. (See <a href="authentication.htm#CHDEFIHB">"Ensuring Against Password Security Threats by Using the SHA-1 Hashing Algorithm"</a> for more information.)</p>
</li>
<li>
<p>You can include multibyte characters in the password.</p>
</li>
<li>
<p>Use the database character set for the password's characters, which can include the underscore (_), dollar ($), and number sign (#) characters.</p>
</li>
<li>
<p>You must enclose the following passwords in double-quotation marks:</p>
<ul>
<li>
<p>Passwords containing multibyte characters.</p>
</li>
<li>
<p>Passwords starting with numbers or special characters and containing alphabetical characters. For example:</p>
<p><code>"123abc"</code></p>
<p><code>"#abc"</code></p>
<p><code>"123dc$"</code></p>
</li>
<li>
<p>Passwords containing any character other than alphabetical characters, numbers, and special characters. For example:</p>
<p><code>"abc&gt;"</code></p>
<p><code>"abc@",</code></p>
<p><code>" "</code></p>
</li>
</ul>
</li>
<li>
<p>You do not need to specify the following passwords in double-quotation marks.</p>
<ul>
<li>
<p>Passwords starting with an alphabet (a-z, A-Z) and containing numbers(0-9) or special characters ($,#,_). For example:</p>
<p><code>abc123</code></p>
<p><code>ab23a</code></p>
<p><code>ab$#_</code></p>
</li>
<li>
<p>Passwords containing only numbers.</p>
</li>
<li>
<p>Passwords containing only alphabetical characters.</p>
</li>
</ul>
</li>
<li>
<p>Do not use an actual word for the entire password.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">To create a longer, more complex password from a shorter, easier to remember password, follow these techniques:</span></p>
<ul>
<li>
<p>Create passwords from the first letters of the words of an easy-to-remember sentence. For example, "I usually work until 6 almost every day of the week" can be <code>Iuwu6aedotw</code>.</p>
</li>
<li>
<p>Combine two weaker passwords, such as <code>welcome1</code> and <code>binky</code> into <code>WelBinkyCome1</code>.</p>
</li>
<li>
<p>Repeat a character at the beginning or end of the password.</p>
</li>
<li>
<p>Add a string, another password, or part the same password to the beginning or end of the password that you want to create. For example, ways that you can modify the password <code>fussy2all</code> are as follows:</p>
<ul>
<li>
<p><code>fussy2all34hj2</code></p>
</li>
<li>
<p><code>WelBinkyCome1fussy2all</code></p>
</li>
<li>
<p><code>fusfussy2all</code></p>
</li>
</ul>
</li>
<li>
<p>Double some or all of the letters. For example, <code>welcome13</code> can become <code>wwellCcooMmee13</code>.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Ensure that the password is sufficiently complex.</span></p>
<p>Oracle Database provides a password complexity verification routine, the PL/SQL script <code><a id="sthref1851"></a><a id="sthref1852"></a>UTLPWDMG.SQL</code>, that you can run to check whether or not passwords are sufficiently complex. Ideally, edit the <code>UTLPWDMG.SQL</code> script to provide stronger password protections. See also <a href="authentication.htm#i1007341">"Enforcing Password Complexity Verification"</a> for a sample routine that you can use to check passwords.</p>
</li>
<li id="CHDIAEGG">
<p><span class="bold">Change <a id="sthref1853"></a>default user passwords.</span></p>
<p><a id="sthref1854"></a>Oracle Database installs with a set of predefined, default user accounts. Security is most easily broken when a default database user account still has a <a id="sthref1855"></a><a id="sthref1856"></a>default password <span class="italic">even after installation</span>. This is particularly true for the user account <code>SCOTT</code>, which is a well known account that may be vulnerable to intruders. In Oracle Database 11<span class="italic">g</span> Release 1 (11.1), default accounts are installed locked with the passwords expired, but if you have upgraded from a previous release, you may still have accounts that use default passwords.</p>
<p>To find user accounts that have default passwords, query the <code>DBA_USERS_WITH_DEFPWD</code> data dictionary view. See <a href="authentication.htm#CHDHCDFE">"Finding User Accounts That Have Default Passwords"</a> for more information.</p>
</li>
<li id="CHDBABCJ">
<p><span class="bold">Change <a id="sthref1857"></a>default passwords of administrative users.</span></p>
<p><a id="sthref1858"></a><a id="sthref1859"></a>You can use the same or different passwords for the <code>SYS</code>, <a id="sthref1860"></a><a id="sthref1861"></a><code>SYSTEM</code>, <a id="sthref1862"></a><a id="sthref1863"></a><code>SYSMAN</code>, and <code>DBSNMP</code> administrative accounts. Oracle recommends that you use <a id="sthref1864"></a><a id="sthref1865"></a>different passwords for each. In any Oracle environment (production or test), assign strong, secure, and distinct passwords to these administrative accounts. If you use <a id="sthref1866"></a>Database Configuration Assistant to create a new database, then it requires you to enter passwords for the <a id="sthref1867"></a><a id="sthref1868"></a><code>SYS</code> and <code>SYSTEM</code> accounts, disallowing the default passwords <code>CHANGE_ON_INSTALL</code> and <code>MANAGER</code>.<a id="sthref1869"></a><a id="sthref1870"></a><a id="sthref1871"></a><a id="sthref1872"></a></p>
<p>Similarly, for production environments, do not use <a id="sthref1873"></a>default passwords for administrative accounts, including <a id="sthref1874"></a><code>SYSMAN</code> and <code>DBSNMP</code>.</p>
<p>See <a class="olink TDPSG20023" href="../../server.111/b28337/tdpsg_user_accounts.htm#TDPSG20023"><span class="italic">Oracle Database 2 Day + Security Guide</span></a> for information about changing a default password.</p>
</li>
<li>
<p><span class="bold">Enforce password management.</span></p>
<p>Apply basic <a id="sthref1875"></a><a id="sthref1876"></a>password <a id="sthref1877"></a>management rules (such as password length, history, <a id="sthref1878"></a><a id="sthref1879"></a><a id="sthref1880"></a>complexity, and so forth) to all user passwords. Oracle Database has password policies enabled for the default profile. Guideline <a href="#CHDDCHAH">1</a> in this section lists these password policies. <a class="olink TDPSG20029" href="../../server.111/b28337/tdpsg_user_accounts.htm#TDPSG20029"><span class="italic">Oracle Database 2 Day + Security Guide</span></a> lists initialization parameters that you can use to further secure user passwords.</p>
<p>You can find information about user accounts by querying the <code>DBA_USERS</code> view. The <code>PASSWORD</code> column of the <code>DBA_USERS</code> view indicates whether the password is global, external, or null. The <code>DBA_USERS</code> view provides useful information such as the user account status, whether the account is locked, and password versions.</p>
<p>Oracle also recommends, if possible, using <a id="sthref1881"></a>Oracle Advanced Security (an option to Oracle Database <a id="sthref1882"></a>Enterprise Edition) with network authentication <a id="sthref1883"></a><a id="sthref1884"></a><a id="sthref1885"></a><a id="sthref1886"></a>services (such as <a id="sthref1887"></a>Kerberos), <a id="sthref1888"></a><a id="sthref1889"></a><a id="sthref1890"></a>token cards, smart cards, or X.509 certificates. These services provide <a id="sthref1891"></a><a id="sthref1892"></a>strong authentication of users, and provide protection against unauthorized access to Oracle Database.</p>
</li>
<li>
<p><span class="bold">Do not store user passwords in clear text in Oracle tables.</span></p>
<p><a id="sthref1893"></a><a id="sthref1894"></a><a id="sthref1895"></a>For better security, do not store passwords in clear text (that is, human readable) in Oracle tables. You can correct this problem by encrypting the table column that contains the password. See <a class="olink TDPSG40043" href="../../server.111/b28337/tdpsg_securing_data.htm#TDPSG40043"><span class="italic">Oracle Database 2 Day + Security Guide</span></a> for information about how to use transparent data encryption to encrypt a table column.</p>
<p>When you create or modify a password for a user account, Oracle Database automatically encrypts it. If you query the <code>DBA_USERS</code> view to find information about a user account, the data in the <code>PASSWORD</code> column indicates if the user password is global, external, or null.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="i1007433"></a>
<div id="DBSEG98451" class="sect1">
<h2 class="sect1">Guidelines for Securing Data<a id="sthref1896"></a><a id="sthref1897"></a></h2>
<p>Follow these guidelines to secure data on your system:</p>
<ol>
<li id="CHDDDBGD">
<p><span class="bold">Enable data dictionary <a id="sthref1898"></a>protection.</span></p>
<p>Oracle recommends that you protect the data dictionary to prevent users that have the <code><a id="sthref1899"></a><a id="sthref1900"></a>ANY</code> system privilege from using those privileges on the data dictionary. Altering or manipulating the data in data dictionary tables can permanently and detrimentally affect the operation of a database.</p>
<p>To enable data dictionary protection, set the following initialization parameter to <code>FALSE</code> (which is the default) in the <code>init</code><code><span class="codeinlineitalic">sid</span></code><code>.ora</code> control file:</p>
<pre>
<a id="sthref1901"></a>O7_DICTIONARY_ACCESSIBILITY = FALSE
</pre>
<p>You can set the <code>O7_DICTIONARY_ACCESSIBILITY</code> parameter in a server parameter file. For more information about server parameter files, see <a class="olink ADMIN00202" href="../../server.111/b28310/create006.htm#ADMIN00202"><span class="italic">Oracle Database Administrator's Guide</span></a>.</p>
<p>After you set <code>O7_DICTIONARY_ACCESSIBILTY</code> to <code>FALSE</code>, only users who have the <a id="sthref1902"></a><code>SELECT ANY DICTIONARY</code> privilege and those authorized users making DBA-privileged (for example <code>CONNECT / AS SYSDBA</code>) connections can use the <code>ANY</code> system privilege on the data dictionary. If <code>O7_DICTIONARY_ACCESSIBILITY</code> parameter is not set to <code>FALSE</code>, then any user with the <code>DROP ANY TABLE</code> (for example) system privilege will be able to drop parts of the data dictionary. However, if a user <span class="italic">needs</span> view access to the data dictionary, then you can grant that user the <code><a id="sthref1903"></a><a id="sthref1904"></a>SELECT ANY DICTIONARY</code> system privilege.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>In a default installation, the<a id="sthref1905"></a> <code>O7_DICTIONARY_ACCESSIBILITY</code> parameter is set to <code>FALSE</code>. However, in Oracle8<span class="italic">i</span>, this parameter is set to <code>TRUE</code> by default, and must be changed to <code>FALSE</code> to enable this security feature.</p>
</li>
<li>
<p>The <code>SELECT ANY DICTIONARY</code> privilege is not included in the <a id="sthref1906"></a><a id="sthref1907"></a><code>GRANT ALL PRIVILEGES</code> statement, but you can grant it through a role. <a href="authorization.htm#BABHFJFJ">Chapter 4, "Configuring Privilege and Role Authorization"</a> describes roles in detail.</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="bold">Restrict operating system access.</span></p>
<p>Follow these guidelines:</p>
<ul>
<li>
<p><a id="sthref1908"></a><a id="sthref1909"></a>Limit the number of operating system users.</p>
</li>
<li>
<p><a id="sthref1910"></a><a id="sthref1911"></a>Limit the privileges of the operating system accounts (administrative, root-privileged, or DBA) on the Oracle Database host computer to the least privileges required for a user to perform necessary tasks.</p>
</li>
<li>
<p><a id="sthref1912"></a><a id="sthref1913"></a>Restrict the ability to modify the default file <a id="sthref1914"></a><a id="sthref1915"></a><a id="sthref1916"></a>and directory permissions for the Oracle Database home (installation) directory or its contents. Even privileged operating system users and the Oracle owner should not modify these permissions, unless instructed otherwise by Oracle.</p>
</li>
<li>
<p><a id="sthref1917"></a><a id="sthref1918"></a><a id="sthref1919"></a>Restrict symbolic links. Ensure that when you provide a path or file to the database, neither the file nor any part of the path is modifiable by an untrusted user. The file and all components of the path should be owned by the database administrator or trusted account, such as <span class="italic">root</span>.</p>
<p>This recommendation applies to all types of <a id="sthref1920"></a><a id="sthref1921"></a>files: data files, <a id="sthref1922"></a><a id="sthref1923"></a>log files, <a id="sthref1924"></a><a id="sthref1925"></a><a id="sthref1926"></a><a id="sthref1927"></a><a id="sthref1928"></a>trace<a id="sthref1929"></a> files, external tables, BFILE data types, and so on.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Encrypt sensitive data and all backup media that contains database files.</span></p>
<p><a id="sthref1930"></a><a id="sthref1931"></a>According to common regulatory compliance requirements, you must encrypt sensitive data such as credit card numbers and passwords. When you delete sensitive data from the database, encrypted data does not linger in data blocks, operating system files, or sectors on disk.</p>
<p>In most cases, you may want to use transparent data encryption to encryrpt your sensitive data. See <a class="olink ASOAG600" href="http://www.oracle.com/pls/topic/lookup?ctx=db111&amp;id=ASOAG600"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a> for more information. See also <a href="data_encryption.htm#CHDFHECJ">"Security Problems That Encryption Does Not Solve"</a> for when you should not encrypt data.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="i1007892"></a>
<div id="DBSEG98452" class="sect1">
<h2 class="sect1">Guidelines for Securing a Database Installation and <a id="sthref1932"></a><a id="sthref1933"></a><a id="sthref1934"></a>Configuration</h2>
<p>For this release, changes were made to the default <a id="sthref1935"></a><a id="sthref1936"></a><a id="sthref1937"></a>configuration of Oracle Database to make it more secure. The recommendations in this section augment the new, secure default configuration.</p>
<p>Follow these guidelines to secure the database installation and configuration:</p>
<ol>
<li>
<p><span class="bold">Before you begin an Oracle Database installation on UNIX systems, ensure that the umask value is 022 for the Oracle owner account.</span></p>
<p>See <a class="olink UNXAR" href="../../server.111/b32009/toc.htm"><span class="italic">Oracle Database Administrator's Reference for Linux and UNIX</span></a> for more information about managing Oracle Database on Linux and UNIX systems.</p>
</li>
<li>
<p><span class="bold">Install only</span> <a id="sthref1938"></a><a id="sthref1939"></a><span class="bold">what is required.</span></p>
<p><span class="bold">Options and Products</span>: The Oracle Database CD pack contains products and options in addition to the database. Install additional <a id="sthref1940"></a>products and options only as necessary. Use the <a id="sthref1941"></a><a id="sthref1942"></a>Custom Installation feature to avoid installing unnecessary products, or perform a typical installation, and then deinstall options and products that are not required. There is no need to maintain additional products and options if they are not being used. They can always be properly installed, as required.</p>
<p><span class="bold">Sample Schemas</span>: Oracle Database provides <a id="sthref1943"></a>sample schemas to provide a common platform for examples. If your database will be used in a production environment, then do not install the sample schema. If you have installed the sample schema on a <a id="sthref1944"></a><a id="sthref1945"></a>test database, then before going to production, remove or relock the sample schema accounts. See <a class="olink COMSC" href="../../server.111/b28328/toc.htm"><span class="italic">Oracle Database Sample Schemas</span></a> for more information about the sample schemas.</p>
</li>
<li>
<p><span class="bold">During installation, when you are prompted for a password, create a secure password.</span></p>
<p>Follow Guidelines <a href="#CHDDCHAH">1</a>, <a href="#CHDIAEGG">4</a>, and <a href="#CHDBABCJ">5</a> in <a href="#CHDEGEIF">"Guidelines for Securing Passwords"</a>.</p>
</li>
<li>
<p><span class="bold">Immediately after installation, lock and expire default user accounts.</span></p>
<p>See Guideline <a href="#CHDDCCHA">2</a> in <a href="#CHDHFIFG">"Guidelines for Securing User Accounts and Privileges"</a>.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="i1009371"></a>
<div id="DBSEG98453" class="sect1">
<h2 class="sect1">Guidelines for Securing the Network<a id="sthref1946"></a><a id="sthref1947"></a></h2>
<p>Security for network communications is improved by using client, listener, and network guidelines to ensure thorough protection. Using SSL is an essential element in these lists, enabling top security for authentication and communications.</p>
<p>These guidelines are as follows:</p>
<ul>
<li>
<p><a href="#CHDEGEHH">Securing the Client Connection</a></p>
</li>
<li>
<p><a href="#CHDJFEFF">Securing the Network Connection</a></p>
</li>
<li>
<p><a href="#CHDDAGCH">Securing a Secure Sockets Layer Connection</a></p>
</li>
</ul>
<a id="CHDEGEHH"></a>
<div id="DBSEG98454" class="sect2">
<h3 class="sect2"><a id="sthref1948"></a><a id="sthref1949"></a>Securing the Client Connection</h3>
<p><a id="sthref1950"></a>Because authenticating client computers is problematic, typically, user authentication is performed instead. This approach avoids client system issues that include <a id="sthref1951"></a><a id="sthref1952"></a><a id="sthref1953"></a>falsified IP addresses, hacked operating systems or applications, and falsified or stolen client system identities. Nevertheless, the following guidelines improve the security of client connections:</p>
<ol>
<li>
<p><span class="bold">Enforce <a id="sthref1954"></a>access controls <a id="sthref1955"></a>effectively and authenticate clients stringently.</span></p>
<p>By default, Oracle allows operating system-authenticated logins only over secure connections, which precludes using Oracle Net and a shared server configuration. This default restriction prevents a <a id="sthref1956"></a><a id="sthref1957"></a>remote user from impersonating another operating system user over a network connection.</p>
<p>Setting the initialization parameter <code><a id="sthref1958"></a>REMOTE_OS_AUTHENT</code> <a id="sthref1959"></a><a id="sthref1960"></a>to <code>TRUE</code> forces the database to accept the client operating system user name received over an unsecure connection and use it for account access. Because clients, such as PCs, are not trusted to perform operating system authentication properly, it is poor security practice to use this feature.</p>
<p>The default setting, <code><a id="sthref1961"></a>REMOTE_OS_AUTHENT = FALSE</code>, creates a more secure configuration that enforces proper, server-based authentication of clients connecting to an Oracle database. Be aware that the <code>REMOTE_OS_AUTHENT</code> has been deprecated for Oracle Database Release 11<span class="italic">g</span> (11.1) and is retained only for backward compatibility.</p>
<p>You should not alter the default setting of the <a id="sthref1962"></a><code>REMOTE_OS_AUTHENT</code> initialization parameter, which is <code>FALSE</code>.</p>
<p>Setting this parameter to <code>FALSE</code> does not mean that users cannot connect remotely. It means that the database will not trust that the client has already authenticated, and will therefore apply its standard authentication processes.</p>
<p>Be aware that the <code>REMOTE_OS_AUTHENT</code> parameter has been deprecated in Oracle Database 11<span class="italic">g</span> Release 1 (11.1), and is retained only for backward compatibility.</p>
</li>
<li>
<p><span class="bold">Configure the connection to use encryption.</span></p>
<p>Oracle network encryption makes <a id="sthref1963"></a>eavesdropping difficult. To learn how to configure encryption, see <a class="olink ASOAG09461" href="http://www.oracle.com/pls/topic/lookup?ctx=db111&amp;id=ASOAG09461"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a>.</p>
</li>
<li>
<p><span class="bold">Set up strong authentication.</span></p>
<p>See <a class="olink ASOAG" href="../b28530/toc.htm"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a> for more information about using Kerberos and public key infrastructure (PKI).</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDJFEFF"></a>
<div id="DBSEG98455" class="sect2">
<h3 class="sect2"><a id="sthref1964"></a>Securing the Network Connection</h3>
<p><a id="sthref1965"></a>Protecting the network and its traffic from inappropriate access or modification is the essence of network security. You should consider all paths the data travels, and assess the threats on each path and node. Then, take steps to lessen or eliminate those threats and the consequences of a security breach. In addition, monitor and audit to detect either increased threat levels or penetration attempts.</p>
<p>To manage network connections, you can use Oracle Net Manager. For an introduction to using Oracle Net Manager, see <a class="olink ADMQS0423" href="../../server.111/b28301/network.htm#ADMQS0423"><span class="italic">Oracle Database 2 Day DBA</span></a>. See also <a class="olink NETAG" href="../../network.111/b28316/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>.</p>
<p>The following practices improve network security:</p>
<ol>
<li>
<p><span class="bold">Use Secure Sockets Layer (SSL) when administering the listener.</span></p>
<p>See <a href="#CHDDAGCH">"Securing a Secure Sockets Layer Connection"</a> for more information.</p>
</li>
<li>
<p><span class="bold">Monitor listener activity.</span></p>
<p>You can monitor listener activity by using Enterprise Manager Database Control. In the Database Control home page, under General, click the link for your listener. The Listener page appears. This page provides detailed information, such as the category of alert generated, alert messages, when the alert was triggered, and so on. This page provides other information as well, such as performance statistics for the listener.</p>
</li>
<li>
<p><span class="bold">Prevent online <a id="sthref1966"></a><a id="sthref1967"></a><a id="sthref1968"></a>administration by requiring the administrator to have the write privilege on the listener password and on the listener.ora file on the server.</span></p>
<ol>
<li>
<p>Add or alter this <a id="sthref1969"></a>line in the <code>listener.ora</code> file:</p>
<pre>
ADMIN_RESTRICTIONS_LISTENER=ON
</pre></li>
<li>
<p>Use <code>RELOAD</code> to reload the configuration.</p>
</li>
<li>
<p>Use <a id="sthref1970"></a>SSL when administering the listener by making the <a id="sthref1971"></a>TCPS protocol the first entry in the address list, as follows:</p>
<pre>
LISTENER=
  (DESCRIPTION=
    (ADDRESS_LIST=
      (ADDRESS=
        (PROTOCOL=tcps)
        (HOST = sales.us.example.com)
        (PORT = 8281)))
</pre>
<p>To administer the listener remotely, you define the listener in the <a id="sthref1972"></a><a id="sthref1973"></a><a id="sthref1974"></a><code>listener.ora</code> file on the client computer. For example, to access listener USER281 remotely, use the following <a id="sthref1975"></a><a id="sthref1976"></a>configuration:</p>
<pre>
user281 =
  (DESCRIPTION =
    (ADDRESS =
      (PROTOCOL = tcps)
      (HOST = sales.us.example.com)
      (PORT = 8281))
    )
  )
</pre></li>
</ol>
<p>For more information about the parameters in <code>listener.ora</code>, see <a class="olink NETRF008" href="../../network.111/b28317/listener.htm#NETRF008"><span class="italic">Oracle Database Net Services Reference</span></a>.</p>
</li>
<li>
<p><span class="bold">Do not set the listener password.</span></p>
<p>Ensure that the password has not been set in the <code>listener.ora</code> file. The local operating system authentication will secure the listener administration. The remote listener administration is disabled when the password has not been set. This prevents brute force attacks of the listener password.</p>
</li>
<li>
<p><span class="bold">When a host computer has multiple IP addresses associated with multiple network interface controller (NIC) cards, configure the listener to the specific IP address.</span></p>
<p>This allows the listener to listen on all the IP addresses. You can restrict the listener to listen on a specific IP address. Oracle recommends that you specify the specific IP addresses on these types of computers, rather than allowing the listener to listen on all IP addresses. Restricting the listener to specific IP addresses helps to prevent an intruder from stealing a TCP end point from under the listener process.</p>
</li>
<li>
<p><span class="bold"><a id="sthref1977"></a>Restrict the<a id="sthref1978"></a><a id="sthref1979"></a> privileges of the listener, so that it cannot read or write <a id="sthref1980"></a>files in the database or the Oracle server address space.</span></p>
<p>This restriction prevents external procedure agents spawned by the listener (or procedures executed by an agent) from inheriting the ability to perform read or write operations. The owner of this separate listener process should not be the owner that installed Oracle Database or executes the Oracle Database instance (such as <code>ORACLE</code>, the default owner).</p>
<p>For more information about configuring external procedures in the listener, see <a class="olink NETAG0132" href="../../network.111/b28316/advcfg.htm#NETAG0132"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>.</p>
</li>
<li>
<p><span class="bold">Use <a id="sthref1981"></a>encryption to secure the data in flight.</span></p>
<p>See <a class="olink TDPSG40045" href="../../server.111/b28337/tdpsg_network_secure.htm#TDPSG40045"><span class="italic">Oracle Database 2 Day + Security Guide</span></a> and <a class="olink ASOAG020" href="http://www.oracle.com/pls/topic/lookup?ctx=db111&amp;id=ASOAG020"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a> for more information about network data encryption.</p>
</li>
<li>
<p><span class="bold">Use a firewall.</span></p>
<p><a id="sthref1982"></a>Appropriately placed and configured firewalls can prevent outside access to your databases.</p>
<ul>
<li>
<p>Keep the database server behind a <a id="sthref1983"></a>firewall. Oracle Database network infrastructure, <a id="sthref1984"></a><a id="sthref1985"></a>Oracle Net (formerly known as Net8 and SQL*Net), provides support for a variety of firewalls from various vendors. Supported proxy-enabled firewalls include Gauntlet from Network Associates and Raptor from Axent. Supported packet-filtering firewalls include PIX Firewall from Cisco, and supported stateful inspection firewalls (more sophisticated packet-filtered firewalls) include Firewall-1 from CheckPoint.</p>
</li>
<li>
<p>Ensure that the firewall is placed outside the network to be protected.</p>
</li>
<li>
<p>Configure the firewall to accept only those protocols, applications, or client/server sources that you know are safe.</p>
</li>
<li>
<p>Use a product such as <a id="sthref1986"></a>Oracle Connection Manager to manage <a id="sthref1987"></a>multiplex multiple client network sessions through a single network connection to the database. It can filter on source, destination, and host name. This product enables you to ensure that connections are accepted only from physically secure terminals or from application Web servers with known IP addresses. (Filtering on <a id="sthref1988"></a>IP address alone is not enough for authentication, because it can be falsified.)</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Prevent unauthorized <a id="sthref1989"></a>administration of the Oracle listener.</span></p>
<p>For more information about the listener, see <a class="olink NETAG010" href="../../network.111/b28316/listenercfg.htm#NETAG010"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>.</p>
</li>
<li>
<p><span class="bold">Check <a id="sthref1990"></a>network IP addresses.</span></p>
<p>Use the Oracle Net <span class="italic">valid node <a id="sthref1991"></a>checking</span> security feature to allow or deny access to Oracle server processes from network clients with specified IP addresses. To use this feature, set the following <code>sqlnet.ora</code> configuration file parameters:</p>
<pre>
tcp.validnode_checking = YES

tcp.excluded_nodes = {list of IP addresses}

tcp.invited_nodes = {list of IP addresses}
</pre>
<p>The <code>tcp.validnode_checking</code> parameter enables the feature. The <code>tcp.excluded_nodes</code> and <code>tcp.invited_nodes</code> parameters deny and enable specific client IP addresses from making connections to the Oracle listener. This helps to prevent potential <a id="sthref1992"></a>denial-of-service <a id="sthref1993"></a><a id="sthref1994"></a><a id="sthref1995"></a>attacks.</p>
<p>You can use Oracle Net Manager to configure these parameters. See <a class="olink NETAG005" href="../../network.111/b28316/admintools.htm#NETAG005"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for more information.</p>
</li>
<li>
<p><span class="bold"><a id="sthref1996"></a>Encrypt network traffic.</span></p>
<p>If possible, use <a id="sthref1997"></a>Oracle Advanced Security to encrypt network traffic among clients, databases, and application servers. <a class="olink TDPSG40045" href="../../server.111/b28337/tdpsg_network_secure.htm#TDPSG40045"><span class="italic">Oracle Database 2 Day + Security Guide</span></a> provides an introduction to network encryption. For detailed information about network encryption, see <a class="olink ASOAG020" href="http://www.oracle.com/pls/topic/lookup?ctx=db111&amp;id=ASOAG020"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a>.</p>
</li>
<li>
<p><span class="bold">Secure the host operating system (the system on which Oracle Database is installed).</span></p>
<p>Secure the host operating system by disabling all unnecessary operating system services. Both UNIX and Windows provide a variety of operating system services, most of which are not necessary for typical deployments. These services include FTP, TFTP, TELNET, and so forth. Be sure to close both the <a id="sthref1998"></a><a id="sthref1999"></a><a id="sthref2000"></a><a id="sthref2001"></a><a id="sthref2002"></a>UDP and TCP ports for each service that is being disabled. Disabling one type of port and not the other does not make the operating system more secure.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDDAGCH"></a>
<div id="DBSEG10083" class="sect2">
<h3 class="sect2">Securing a Secure Sockets <a id="sthref2003"></a>Layer <a id="sthref2004"></a>Connection</h3>
<p><a id="sthref2005"></a>Secure Sockets Layer (SSL) is the Internet standard protocol for secure communication, providing mechanisms for data integrity and data encryption. These mechanisms can protect the messages sent and received by you or by applications and servers, supporting secure authentication, authorization, and messaging through certificates and, if necessary, encryption. Good security practices maximize protection and minimize gaps or disclosures that threaten security. The following guidelines show the cautious attention to detail necessary for the successful use of SSL. For detailed information about Oracle SSL configuration, see <a class="olink ASOAG070" href="http://www.oracle.com/pls/topic/lookup?ctx=db111&amp;id=ASOAG070"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a>.</p>
<ol>
<li>
<p><span class="bold">Ensure <a id="sthref2006"></a>that configuration files (for example, for clients and listeners) use the correct port for SSL, which is the port configured upon installation.</span></p>
<p>You can run <a id="sthref2007"></a>HTTPS on any port, but the standards specify port 443, where any HTTPS-compliant browser looks by default. The port can also be specified in the URL, for example:</p>
<pre>
https://secure.example.com:4445/
</pre>
<p>If a <a id="sthref2008"></a>firewall is in use, then it too must use the same ports for secure (SSL) communication.</p>
</li>
<li>
<p><span class="bold">Ensure that <a id="sthref2009"></a><a id="sthref2010"></a><a id="sthref2011"></a>TCPS is specified as the PROTOCOL in the ADDRESS parameter in the tnsnames.ora <a id="sthref2012"></a><a id="sthref2013"></a><a id="sthref2014"></a><a id="sthref2015"></a>file (typically on the client or in the LDAP directory).</span></p>
<p>An identical specification must appear in the <a id="sthref2016"></a><a id="sthref2017"></a><code>listener.ora</code> file (typically in the <a id="sthref2018"></a><a id="sthref2019"></a><code>$ORACLE_HOME/network/admin</code> directory).</p>
</li>
<li>
<p><span class="bold">Ensure that the SSL <a id="sthref2020"></a><a id="sthref2021"></a>mode is consistent for both ends of every communication. For example, the database (on one side) and the user or application (on the other) must have the same SSL mode.</span></p>
<p>The mode can specify either client or server authentication (one-way), both client and server authentication (two-way), or no authentication.</p>
</li>
<li>
<p><span class="bold">Ensure that the server supports the <a id="sthref2022"></a><a id="sthref2023"></a><a id="sthref2024"></a><a id="sthref2025"></a>client cipher suites and the certificate key algorithm in use.</span></p>
</li>
<li>
<p><span class="bold">Enable DN matching for both the server and client, to prevent the server from falsifying its identity to the client during connections.</span> <a id="sthref2026"></a></p>
<p>This setting ensures that the server identity is correct by matching its global database name against the DN from the server certificate.</p>
<p>You can enable DN matching in the <code>tnsnames.ora</code> file. For example:</p>
<pre>
set:SSL_SERVER_CERT_DN="cn=finance,cn=OracleContext,c=us,o=example"
</pre>
<p>Otherwise, a client application would not check the server certificate, which could allow the server to falsify its identity.</p>
</li>
<li>
<p><span class="bold">Do not remove the encryption from your <a id="sthref2027"></a><a id="sthref2028"></a><a id="sthref2029"></a><a id="sthref2030"></a><a id="sthref2031"></a>RSA private key inside your server.key file, which requires that you enter your <a id="sthref2032"></a><a id="sthref2033"></a><a id="sthref2034"></a>pass phrase to read and parse this file.</span></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
A server without SSL does not require a pass phrase.</div>
<p>If you decide your server is secure enough, you could remove the encryption from the RSA private key while preserving the original file. This enables system boot scripts to start the database server, because no pass phrase is needed. Ideally, restrict permissions to the root user only, and have the Web server start as <code>root</code>, but then log on as another user. Otherwise, anyone who gets this key can impersonate you on the Internet, or decrypt the data that was sent to the server.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ASOAG070" href="http://www.oracle.com/pls/topic/lookup?ctx=db111&amp;id=ASOAG070"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a> for general SSL information, including configuration</p>
</li>
<li>
<p><a class="olink NETRF006" href="../../network.111/b28317/sqlnet.htm#NETRF006"><span class="italic">Oracle Database Net Services Reference</span></a> for TCP-related parameters in <code>sqlnet.ora</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCGJJBAA"></a>
<div id="DBSEG90008" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Guidelines for Auditing</h2>
<p><a id="sthref2035"></a><a id="sthref2036"></a>This section contains:</p>
<ul>
<li>
<p><a href="#CHDBDBDG">Auditing Sensitive Information</a></p>
</li>
<li>
<p><a href="#CHDBEBEE">Enabling Default Auditing of SQL Statements and Privileges</a></p>
</li>
<li>
<p><a href="#i1010870">Keeping Audited Information Manageable</a></p>
</li>
<li>
<p><a href="#i1007821">Auditing Typical Database Activity</a></p>
</li>
<li>
<p><a href="#i1007822">Auditing Suspicious Database Activity</a></p>
</li>
<li>
<p><a href="#CHDFFGAI">Recommended Audit Settings</a></p>
</li>
</ul>
<a id="CHDBDBDG"></a>
<div id="DBSEG98456" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Auditing Sensitive Information</h3>
<p>Be aware that sensitive <a id="sthref2037"></a>data, <a id="sthref2038"></a>such as credit card numbers, appear in the fine-grained audit trail if you collect SQL text. For standard auditing, setting the <code>AUDIT_TRAIL</code> initialization parameter to <code>DB, EXTENDED</code> or <code>XML, EXTENDED</code> enables the collection of SQL text. For fine-grained auditing, you would set the <code>audit_trail</code> parameter of the <code>DBMS_FGA</code> PL/SQL package to <code>DBMS_FGA.DB + DBMS_FGA.EXTENDED</code> or <code>DBMS_FGA.XML + DBMS_FGA.EXTENDED</code>.</p>
<p>If you have sensitive data that is being audited, do not enable the collection of SQL text in the audit trail. Use the following settings instead:</p>
<ul>
<li>
<p><span class="bold">Standard auditing:</span> Set the <code>AUDIT_TRAIL</code> initialization parameter to <code>DB</code>, <code>OS</code>, or <code>XML</code>. See <a href="auditing.htm#BCGFBDFI">"Configuring Standard Auditing with the AUDIT_TRAIL Initialization Parameter"</a>.</p>
</li>
<li>
<p><span class="bold">Fine-grained auditing:</span> Set the <code>DBMS_FGA.ADD_POLICY</code> <code>audit_trail</code> parameter to <code>DBMS_FGA.DB</code> or <code>DBMS_FGA.XML</code>. See <a href="auditing.htm#CEGFHJAC">"Creating an Audit Trail for Fine-Grained Audit Records"</a>.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDBEBEE"></a>
<div id="DBSEG98457" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Enabling Default Auditing of SQL Statements and Privileges</h3>
<p>When you create a new database, you have the option to enable the auditing of a select set of SQL statements and privileges. Oracle recommends that you enable default auditing. Auditing is an effective method of enforcing strong internal controls so that your site can meet its regulatory compliance requirements, as defined in the <a id="sthref2039"></a><a id="sthref2040"></a>Sarbanes-Oxley Act.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="auditing.htm#CEGGCIAE">"Using Default Auditing for Security-Relevant SQL Statements and Privileges"</a></div>
</div>
<!-- class="sect2" -->
<a id="i1010870"></a>
<div id="DBSEG98458" class="sect2">
<h3 class="sect2">Keeping Audited Information Manageable</h3>
<p><a id="sthref2041"></a>Although auditing is relatively inexpensive, limit the number of audited events as much as possible. This minimizes the performance impact on the execution of audited statements and the size of the audit trail, making it easier to analyze and understand.</p>
<p>Follow these guidelines when devising an auditing strategy:</p>
<ol>
<li>
<p><span class="bold">Evaluate your reason for auditing.</span></p>
<p>After you have a clear understanding of the reasons for auditing, you can devise an appropriate auditing strategy and avoid unnecessary auditing.</p>
<p>For example, suppose you are auditing to investigate suspicious database activity. This information by itself is not specific enough. What types of suspicious database activity do you suspect or have you noticed? A more focused auditing strategy might be to audit unauthorized deletions from arbitrary tables in the database. This purpose narrows the type of action being audited and the type of object being affected by the suspicious activity.</p>
</li>
<li>
<p><span class="bold">Audit knowledgeably.</span></p>
<p>Audit the minimum number of statements, users, or objects required to get the targeted information. This prevents unnecessary audit information from cluttering the meaningful information and using valuable space in the <code>SYSTEM</code> tablespace. Balance your need to gather sufficient security information with your ability to store and process it.</p>
<p>For example, if you are auditing to gather information about database activity, then determine exactly what types of activities you want to track, audit only the activities of interest, and audit only for the amount of time necessary to gather the information that you want. As another example, do not audit <span class="italic">objects</span> if you are only interested in logical I/O information for each session.</p>
</li>
<li>
<p><span class="bold">Before you implement an auditing strategy, consult your legal department.</span></p>
<p>You should have the legal department of your organization review your audit strategy. Because your auditing will monitor other users in your organization, you must ensure that you are correctly following the compliance and corporate policy of your site.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1007821"></a>
<div id="DBSEG98459" class="sect2">
<h3 class="sect2">Auditing Typical Database Activity</h3>
<p><a id="sthref2042"></a>When your purpose for auditing is to gather historical information about particular database activities, use the following guidelines:</p>
<ol>
<li>
<p><span class="bold">Audit only pertinent actions.</span></p>
<p>At a minimum, audit user access, the use of system privileges, and changes to the database schema structure. To avoid cluttering meaningful information with useless audit records and reduce the amount of audit trail administration, only audit the targeted database activities. Remember also that auditing too much can affect database performance.</p>
<p>For example, auditing changes to all tables in a database produces far too many audit trail records and can slow down database performance. However, auditing changes to critical tables, such as salaries in a Human Resources table, is useful.</p>
<p>You can audit specific actions by using fine-grained auditing, which is described in <a href="auditing.htm#CEGBAFIA">"Auditing Specific Activities with Fine-Grained Auditing"</a>.</p>
</li>
<li>
<p><span class="bold">Archive audit records and purge the audit trail.</span></p>
<p>After you collect the required information, archive the audit records of interest and then purge the audit trail of this information. See <a href="auditing.htm#CJACABDC">"Archiving and Purging the Database Audit Trail"</a> for instructions.</p>
<p>To purge audit records, you can delete standard audit records from the <code>SYS.AUD$</code> table and fine-grained audit records from the <code>SYS.FGA_LOG$</code> table. See <a href="auditing.htm#BCGIHBAF">"Purging the Database Audit Trail"</a> for examples.</p>
<p>See <a href="auditing.htm#i1006824">"Controlling the Size of the Database Audit Trail"</a> for more information about managing the database audit trail.</p>
</li>
<li>
<p><span class="bold">Remember your company's privacy considerations.</span></p>
<p>Privacy regulations often lead to additional business privacy policies. Most privacy laws require businesses to monitor access to personally identifiable information (PII), and monitoring is implemented by auditing. A business-level privacy policy should address all relevant aspects of data access and user accountability, including technical, legal, and company policy concerns.</p>
</li>
<li>
<p><span class="bold">Check the Oracle Database log files for additional audit information</span></p>
<p>The log files generated by Oracle Database contain useful information that you can use when auditing a database. For example, an Oracle database creates an alert file to record <code>STARTUP</code> and <code>SHUTDOWN</code> operations, and structural changes such as adding data files to the database.</p>
<p>For example, if you want to audit <a id="sthref2043"></a><a id="sthref2044"></a>committed or rolled back transactions, you can use the <a id="sthref2045"></a>redo log files.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1007822"></a>
<div id="DBSEG98460" class="sect2">
<h3 class="sect2">Auditing Suspicious Database Activity</h3>
<p><a id="sthref2046"></a>When you audit to monitor suspicious database activity, use the following guidelines:</p>
<ol>
<li>
<p><span class="bold">First audit generally, and then specifically.</span></p>
<p>When you start to audit for suspicious database activity, often not much information is available to target specific users or schema objects. Therefore, set audit options more generally at first, that is, by using the standard audit options described in <a href="auditing.htm#BCGIDBFI">Chapter 9, "Verifying Security Access with Auditing"</a> explains how you can use the standard audit options to audit SQL statements, schema objects, privileges, and so on.</p>
<p>After you have recorded and analyzed the preliminary audit information, disable general auditing, and then audit specific actions. You can use fine-grained auditing, which is described in <a href="auditing.htm#CEGBAFIA">"Auditing Specific Activities with Fine-Grained Auditing"</a>, to audit specific actions. Continue this process until you have gathered enough evidence to draw conclusions about the origin of the suspicious database activity.</p>
</li>
<li>
<p><span class="bold">Audit common suspicious activities.</span></p>
<p>Common suspicious activities are as follows:</p>
<ul>
<li>
<p>Users who access the database during unusual hours</p>
</li>
<li>
<p>Multiple failed user login attempts</p>
</li>
<li>
<p>Login attempts by non-existent users</p>
</li>
</ul>
<p>In addition, monitor users who share accounts or multiple users who are logging in from the same IP address. You can query the <code>DBA_AUDIT_SESSION</code> data dictionary view to find this kind of activity. For a very granular approach, create fine-grained audit policies.</p>
</li>
<li>
<p><span class="bold">Protect the audit trail.</span></p>
<p>When auditing for suspicious database activity, protect the audit trail so that audit information cannot be added, changed, or deleted without being audited. You can audit the standard audit trail by using the <code>AUDIT</code> SQL statement.</p>
<p>For example:</p>
<pre>
AUDIT SELECT ON SYS.AUD$ BY ACCESS; 
</pre>
<p>See also <a href="auditing.htm#i1011521">"Auditing the Database Audit Trail"</a>.</p>
<p>To audit the fine-grained audit trail, as user <code>SYS</code>, you would enter the following statement:</p>
<pre>
AUDIT SELECT ON SYS.FGA$ BY ACCESS; 
</pre>
<p>If you have Oracle Database Vault enabled, you can further protect the <code>SYS.AUDIT$</code>, <code>SYSTEM.AUD$</code>, <code>SYS.FGA$</code>, and <code>SYS.FGA_LOG$</code> tables by enclosing them in a realm. (In an Oracle Database Vault environment, the <code>AUD$</code> table is moved to the <code>SYSTEM</code> schema when Oracle Label Security is enabled. <code>SYS.AUD$</code> becomes a synonym for the <code>SYSTEM.AUD$</code> table.) See <a class="olink DVADM003" href="../../server.111/b31222/cfrealms.htm#DVADM003"><span class="italic">Oracle Database Vault Administrator's Guide</span></a> for more information.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDFFGAI"></a>
<div id="DBSEG98461" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Recommended Audit Settings</h3>
<p><span class="bold">Database <a id="sthref2047"></a>schema <a id="sthref2048"></a>or structure changes.</span> Use the following <code>AUDIT</code> statement settings:</p>
<ul>
<li>
<p><code>AUDIT ALTER ANY PROCEDURE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT ALTER ANY TABLE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT ALTER DATABASE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT ALTER SYSTEM BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT CREATE ANY JOB BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT CREATE ANY LIBRARY BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT CREATE ANY PROCEDURE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT CREATE ANY TABLE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT CREATE EXTERNAL JOB BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT DROP ANY PROCEDURE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT DROP ANY TABLE BY ACCESS;</code></p>
</li>
</ul>
<p><span class="bold">Database <a id="sthref2049"></a>access and privileges.</span> Use these <code>AUDIT</code> statement settings:</p>
<ul>
<li>
<p><code>AUDIT ALTER PROFILE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT ALTER USER BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT AUDIT SYSTEM BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT CREATE PUBLIC DATABASE LINK BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT CREATE SESSION BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT CREATE USER BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT DROP PROFILE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT DROP USER BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT EXEMPT ACCESS POLICY BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT GRANT ANY OBJECT PRIVILEGE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT GRANT ANY PRIVILEGE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT GRANT ANY ROLE BY ACCESS;</code></p>
</li>
<li>
<p><code>AUDIT ROLE BY ACCESS;</code></p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFECGD"></a>
<div id="DBSEG98462" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Addressing the CONNECT Role Change</h2>
<p><a id="sthref2050"></a>The <code>CONNECT</code> role was introduced with Oracle Database version 7, which added new and robust support for database roles. The <code>CONNECT</code> role is used in sample code, applications, documentation, and technical papers. In Oracle Database 10<span class="italic">g</span> Release 2 (10.2), the <code>CONNECT</code> role was changed. If you are upgrading from a release earlier than Oracle Database 10.2 to the current release, then read this section.</p>
<p>This section contains:</p>
<ul>
<li>
<p><a href="#CHDHIBBD">Why Was the CONNECT Role Changed?</a></p>
</li>
<li>
<p><a href="#CHDGJGJF">How the CONNNECT Role Change Affects Applications</a></p>
</li>
<li>
<p><a href="#CHDGFIDC">How the CONNECT Role Change Affects Users</a></p>
</li>
<li>
<p><a href="#CHDGEHFJ">Approaches to Addressing the CONNECT Role Change</a></p>
</li>
</ul>
<a id="CHDHIBBD"></a>
<div id="DBSEG98463" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Why Was the CONNECT Role Changed?</h3>
<p><a id="sthref2051"></a>The <code>CONNECT</code> role was originally established with the following privileges:</p>
<div class="inftblsimple">
<table class="cellalignment1579" title="Privileges originally associated with the CONNECT role" summary="List of privileges originally associated with the CONNECT role, top to bottom, left to right" dir="ltr">
<tbody>
<tr class="cellalignment1570">
<td class="cellalignment1578"><code>ALTER SESSION</code></td>
<td class="cellalignment1578"><code>CREATE SESSION</code></td>
</tr>
<tr class="cellalignment1570">
<td class="cellalignment1578"><code>CREATE CLUSTER</code></td>
<td class="cellalignment1578"><code>CREATE SYNONYM</code></td>
</tr>
<tr class="cellalignment1570">
<td class="cellalignment1578"><code>CREATE DATABASE LINK</code></td>
<td class="cellalignment1578"><code>CREATE TABLE</code></td>
</tr>
<tr class="cellalignment1570">
<td class="cellalignment1578"><code>CREATE SEQUENCE</code></td>
<td class="cellalignment1578"><code>CREATE VIEW</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblsimple" -->
<p>Beginning in Oracle Database 10<span class="italic">g</span> Release 2, the <code>CONNECT</code> role has only the <code>CREATE SESSION</code> privilege, all other privileges are removed.</p>
<p>Although the <code>CONNECT</code> role was frequently used to provision new accounts in Oracle Database, connecting to the database does not require all those privileges. Making this change enables you to enforce good security practices more easily.</p>
<p>Each user should have only the privileges needed to perform his or her tasks, an idea called the principle of least privilege. Least privilege mitigates risk by limiting privileges, so that it remains easy to do what is needed while concurrently reducing the ability to do inappropriate things, either inadvertently or maliciously.</p>
</div>
<!-- class="sect2" -->
<a id="CHDGJGJF"></a>
<div id="DBSEG98464" class="sect2">
<h3 class="sect2">How the CONNNECT Role Change Affects Applications</h3>
<p><a id="sthref2052"></a>The effects of the changes to the <code>CONNECT</code> role can be seen in database upgrades, account provisioning, and installation of applications using new databases.</p>
<a id="CHDHCFHF"></a>
<div id="DBSEG98465" class="sect3">
<h4 class="sect3">How the CONNECT Role Change Affects Database Upgrades</h4>
<p><a id="sthref2053"></a><a id="sthref2054"></a>Upgrading your existing Oracle database to Oracle Database 10<span class="italic">g</span> Release 2 (10.2) automatically changes the <code>CONNECT</code> role to have only the <code>CREATE SESSION</code> privilege. Most applications are not affected because the applications objects already exist: no new tables, views, sequences, synonyms, clusters, or database links must be created.</p>
<p>Applications that create tables, views, sequences, synonyms, clusters, or database links, or that use the <code>ALTER SESSION</code> command dynamically, may fail due to insufficient privileges.</p>
</div>
<!-- class="sect3" -->
<a id="CHDHGGAJ"></a>
<div id="DBSEG98466" class="sect3">
<h4 class="sect3">How the CONNECT Role Change Affects Account Provisioning</h4>
<p><a id="sthref2055"></a>If your application or DBA grants the <code>CONNECT</code> role as part of the account provisioning process, then only <code>CREATE SESSION</code> privileges are included. Any additional privileges must be granted either directly or through another role.</p>
<p>This issue can be addressed by creating a new customized database role.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDGEHFJ">Approaches to Addressing the CONNECT Role Change</a></div>
</div>
<!-- class="sect3" -->
<a id="CHDBFECA"></a>
<div id="DBSEG98467" class="sect3">
<h4 class="sect3">How the CONNECT Role Change Affects Applications Using New Databases</h4>
<p><a id="sthref2056"></a>New databases created using the Oracle Database 10<span class="italic">g</span> Release 2 (10.2) Utility (DBCA), or using database creation templates generated from DBCA, define the <code>CONNECT</code> role with only the <code>CREATE SESSION</code> privilege. Installing an application to use a new database may fail if the database schema used for the application is granted privileges solely through the <code>CONNECT</code> role.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDGFIDC"></a>
<div id="DBSEG98468" class="sect2">
<h3 class="sect2">How the CONNECT Role Change Affects Users</h3>
<p><a id="sthref2057"></a>The change to the <code>CONNECT</code> role affects three classes of users differently: general users, application developers, and client/server applications.</p>
<a id="CHDIBAJE"></a>
<div id="DBSEG98469" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">How the CONNECT Role Change Affects General Users</h4>
<p><a id="sthref2058"></a>The new <code>CONNECT</code> role supplies only the <code>CREATE SESSION</code> privilege. Users who connect to the database to use an application are not affected, because the <code>CONNECT</code> role still has the <code>CREATE SESSION</code> privilege.</p>
<p>However, appropriate privileges will not be present for a certain set of users if they are provisioned solely with the <code>CONNECT</code> role. These are users who create tables, views, sequences, synonyms, clusters, or database links, or use the <code>ALTER SESSION</code> command. The privileges they need are no longer provided with the <code>CONNECT</code> role. To authorize the additional privileges needed, the database administrator must create and apply additional roles for the appropriate privileges, or grant them directly to the users who need them.</p>
<p>Note that the <code>ALTER SESSION</code> privilege is required for setting events. Few database users should require the <code>ALTER SESSION</code> privilege.</p>
<pre>
ALTER SESSION SET EVENTS ........
</pre>
<p>The alter session privilege is <span class="italic">not</span> required for other alter session commands.</p>
<pre>
ALTER SESSION SET NLS_TERRITORY = FRANCE;
</pre></div>
<!-- class="sect3" -->
<a id="CHDHBGIE"></a>
<div id="DBSEG98470" class="sect3">
<h4 class="sect3">How the CONNECT Role Change Affects Application Developers</h4>
<p><a id="sthref2059"></a><a id="sthref2060"></a>Application developers provisioned solely with the <code>CONNECT</code> role do not have appropriate privileges to create tables, views, sequences, synonyms, clusters, or database links, nor to use the <code>ALTER SESSION</code> statement. The database administrator must either create and apply additional roles for the appropriate privileges, or grant them directly to the application developers who need them.</p>
</div>
<!-- class="sect3" -->
<a id="CHDHIIGC"></a>
<div id="DBSEG98471" class="sect3">
<h4 class="sect3">How the CONNECT Role Change Affects Client Server Applications</h4>
<p><a id="sthref2061"></a>Most client/server applications that use dedicated user accounts will not be affected by this change. However, applications that create private synonyms or temporary tables using dynamic SQL in the user schema during account provisioning or run-time operations will be affected. They will require additional roles or grants to acquire the system privileges appropriate to their activities.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDGEHFJ"></a>
<div id="DBSEG98472" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Approaches to Addressing the CONNECT Role Change</h3>
<p>Oracle recommends the following three approaches to address the impact of this change.</p>
<a id="CHDFBFJG"></a>
<div id="DBSEG98473" class="sect3">
<h4 class="sect3">Approach 1: Create a New Database Role</h4>
<p>The privileges removed from the <code>CONNECT</code> role can be managed by creating a new database role.</p>
<p>First, connect to the upgraded Oracle database and create a new database role. The following example uses a role called <code>my_app_developer</code>.</p>
<pre>
CREATE ROLE my_app_developer;
GRANT CREATE TABLE, CREATE VIEW, CREATE SEQUENCE, CREATE SYNONYM, CREATE CLUSTER, CREATE DATABASE LINK, ALTER SESSION TO my_app_developer;

</pre>
<p>Second, determine which users or database roles have the <code>CONNECT</code> role, and grant the new role to these users or roles.</p>
<pre>
SELECT USER$.NAME, ADMIN_OPTION, DEFAULT_ROLE
 FROM USER$, SYSAUTH$, DBA_ROLE_PRIVS
 WHERE PRIVILEGE# = 
 (SELECT USER# FROM USER$ WHERE NAME = 'CONNECT')
 AND USER$.USER# = GRANTEE#
 AND GRANTEE = USER$.NAME
 AND GRANTED_ROLE = 'CONNECT';

NAME                           ADMIN_OPTI DEF
------------------------------ ---------- ---
R1                             YES        YES
R2                             NO         YES

GRANT my_app_developer TO R1 WITH ADMIN OPTION;
GRANT my_app_developer TO R2;
</pre>
<p>You can determine the privileges that users require by using Oracle Auditing. The audit information can then be analyzed and used to create additional database roles with finer granularity.</p>
<p>Privileges not used can then be revoked for specific users. Note that before auditing, the database initialization parameter <code>AUDIT_TRAIL</code> must be initialized and the database restarted.</p>
<pre>
AUDIT CREATE TABLE, CREATE SEQUENCE, CREATE SYNONYM, CREATE DATABASE LINK, CREATE CLUSTER, CREATE VIEW, ALTER SESSION;
</pre>
<p>Database privilege usage can now be monitored periodically.</p>
<pre>
SELECT USERID, NAME FROM AUD$, SYSTEM_PRIVILEGE_MAP 
WHERE - PRIV$USED = PRIVILEGE;

USERID                         NAME
------------------------------ ----------------
ACME                           CREATE TABLE
ACME                           CREATE SEQUENCE
ACME                           CREATE TABLE
ACME                           ALTER SESSION
APPS                           CREATE TABLE
APPS                           CREATE TABLE
APPS                           CREATE TABLE
APPS                           CREATE TABLE

8 rows selected.
</pre></div>
<!-- class="sect3" -->
<a id="CHDFABAF"></a>
<div id="DBSEG98474" class="sect3">
<h4 class="sect3">Approach 2: Restore CONNECT Privileges</h4>
<p>Starting with Oracle Database 11<span class="italic">g</span> Release 1 (11.1), Oracle provides a script called <code>rstrconn.sql</code> in the <code>$ORACLE_HOME/rdbms/admin</code> directory. After a database upgrade or new database creation, this script can be used to grant the privileges that were removed from the <code>CONNECT</code> role in Oracle Database 11<span class="italic">g</span> Release 1 (11.1).</p>
<p>If this approach is used, then privileges that are not used should be revoked from users who do not need them. To identify such privileges and users, the database must be restarted with the database initialization parameter <code>AUDIT_TRAIL</code> initialized, for example, <code>AUDIT_TRAIL=DB</code>. Oracle Database auditing should then&nbsp;be turned on to monitor what privileges are used, as follows:</p>
<pre>
AUDIT CREATE TABLE, CREATE SEQUENCE, CREATE SYNONYM, CREATE DATABASE LINK, CREATE CLUSTER, CREATE VIEW, ALTER SESSION;
</pre>
<p>Database privilege usage can also be monitored periodically.</p>
<pre>
SELECT USERID, NAME FROM AUD$, SYSTEM_PRIVILEGE_MAP WHERE - PRIV$USED = PRIVILEGE;

USERID                         NAME
------------------------------ ----------------
ACME                           CREATE TABLE
ACME                           CREATE SEQUENCE
ACME                           CREATE TABLE
ACME                           ALTER SESSION
APPS                           CREATE TABLE
APPS                           CREATE TABLE
APPS                           CREATE TABLE
APPS                           CREATE TABLE
8 rows selected.
</pre>
<div id="DBSEG98475" class="sect4"><a id="sthref2062"></a>
<h5 class="sect4">New View Showing CONNECT Grantees</h5>
<p>A new view enables administrators who continue using the old <code>CONNECT</code> role to see quickly which users have that role.</p>
<p><a href="#CHDDGIBB">Table 10-1</a> shows the columns in the new <code>DBA_CONNECT_ROLE_GRANTEES</code> view.</p>
<div id="DBSEG98476" class="tblhruleformal">
<p class="titleintable"><a id="sthref2063"></a><a id="CHDDGIBB"></a>Table 10-1 Columns and Contents for DBA_CONNECT_ROLE_GRANTEES</p>
<table class="cellalignment1576" title="Columns and Contents for DBA_CONNECT_ROLE_GRANTEES" summary="This table names and describes the columns in the new view DBA_CONNEXT_ROLE_GRANTEES." dir="ltr">
<thead>
<tr class="cellalignment1570">
<th class="cellalignment1577" id="r1c1-t8">Column Name</th>
<th class="cellalignment1577" id="r1c2-t8">Contents</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1570">
<td class="cellalignment1578" id="r2c1-t8" headers="r1c1-t8">
<p>Grantee</p>
</td>
<td class="cellalignment1578" headers="r2c1-t8 r1c2-t8">
<p>User granted the <code>CONNECT</code> role</p>
</td>
</tr>
<tr class="cellalignment1570">
<td class="cellalignment1578" id="r3c1-t8" headers="r1c1-t8">
<p>Path_of_connect_role_grant</p>
</td>
<td class="cellalignment1578" headers="r3c1-t8 r1c2-t8">
<p>Role (or nested roles) by which the user is granted <code>CONNECT</code></p>
</td>
</tr>
<tr class="cellalignment1570">
<td class="cellalignment1578" id="r4c1-t8" headers="r1c1-t8">
<p>Admin_opt</p>
</td>
<td class="cellalignment1578" headers="r4c1-t8 r1c2-t8">
<p><code>VARCHAR2(3)</code>, <code>YES</code> if user has <code>ADMIN OPTION</code> on <code>CONNECT</code>; otherwise, <code>NO</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" --></div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="CHDFCBII"></a>
<div id="DBSEG98477" class="sect3">
<h4 class="sect3">Approach 3: Conduct Least Privilege Analysis</h4>
<p>Oracle partners and application providers should use this approach to deliver more secure products to the Oracle customer base. The principle of least privilege mitigates risk by limiting privileges to the minimum set required to perform a given function.</p>
<p>For each class of users that the analysis shows need the same set of privileges, create a role with only those privileges. Remove all other privileges from those users, and assign that role to those users. As needs change, you can grant additional privileges, either directly or through these new roles, or create new roles to meet new needs. This approach helps to ensure that inappropriate privileges have been limited, thereby reducing the risk of inadvertent or malicious harm.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1569">
<tr>
<td class="cellalignment1578">
<table class="cellalignment1574">
<tr>
<td class="cellalignment1573"><a href="auditing.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1573"><a href="glossary.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1581">
<table class="cellalignment1572">
<tr>
<td class="cellalignment1573"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1573"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1573"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1573"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1573"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1573"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
