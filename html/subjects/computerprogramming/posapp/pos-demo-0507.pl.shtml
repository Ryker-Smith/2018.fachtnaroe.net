<!DOCTYPE html>
<!-- #exec cgi="/head.shtml" -->
<body>
<!-- #exec cgi="/inprogress.shtml" -->
<div id="pagewrap">
<!-- #exec cgi="/topmenu.shtml" -->
<!-- #exec cgi="/sidemenu.shtml" -->
<div id="content">
<h1>POS App: Sample Program</h1>
<pre>
#!/usr/bin/perl
use strict;
use Math::Round;

use constant clrscr => "\x1B[2J";

my ($option, $name, $weight, @allnames, @allweights, $index, $reply, $totalweight, $vdu);

#
# Demonstration program to show use of push-ing and pop-ing with arrays,
# running total, rounding etc
# First loop reads items from the keyboard, pushes into an array
# Second loop pops elements back from array and does simple math
#
print "\nSTART\n";
print clrscr;
$index = 0;
$option = 0;
while ($option != 1) {
  $index++;
  print "Enter name: ";
  $name = &lt;STDIN&gt;;
  print "Enter weight: ";
  $weight = &lt;STDIN&gt;;
   # remove the EOL before saving into the array
  chomp ($name, $weight);
  # push into the array
  push @allnames, $name;
  push @allweights, $weight;
  print "Again? ";
  $reply = &lt;STDIN&gt;;
  chomp $reply;
  $option = ($reply eq "n"); # this is the same as typing:  if (($reply eq "n") { $option = 1; }
}
print "======================\n";
print "Accepted $index records.\n";
print "Names are: @allnames\n";
print "Weights are: @allweights\n";
print "======================\n\n";
$totalweight = 0;
$index = 0;
print "  NAME\t\tWEIGHT\tTOTAL\n";
while (@allnames) {
  $index++;
  $name = pop @allnames;
  $weight = pop @allweights;
  $totalweight = $totalweight + $weight;
  # one output line per record
  print "$index $name\t\t$weight\t($totalweight)\n";
}
# avoid div by 0 but $index should have minimum value of 1 by now
# Otherwise, print totals
print "\nTotal weight = ",$totalweight,"kg\nAverage weight = ",nearest(0.01, $totalweight/$index),"kg\n";
print "\nEND\n";
</pre>
<form><input type="button" value="Back" onclick="history.back()"></form>
<small><!--#config timefmt="%Y%m%d-%H:%M" -->Last updated: <!--#flastmod file="pos-demo-0507.pl.shtml" --></small>
</div> <!-- #content -->
<!-- #exec cgi="/bottom.shtml" -->
</div> <!-- #pagewrap -->
</body>
</html>
