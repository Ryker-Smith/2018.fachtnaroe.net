<!DOCTYPE html>
<!-- #exec cgi="/head.shtml" -->
<body>
<!-- #exec cgi="/inprogress.shtml" -->
<div id="pagewrap">
<!-- #exec cgi="/topmenu.shtml" -->
<!-- #exec cgi="/sidemenu.shtml" -->
<div id="content">
<h1>Hidden input fields demo 03</h1>
<p>This demo shows how input fields may be <a href="http://progserv.fachtnaroe.net:1918/~fachtna/hidden_input_03.html"> automatically populated</a> using placeholders.</p>
<p>This is the input form:</p>
<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Hidden input demo #03&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h2&gt;Hidden input fields&lt;/h2&gt;
&lt;p&gt;Enter two items (text or numbers) in the boxes&lt;/p&gt;
&lt;form action="cgi-bin/hidden_input_03.pl" method="post"&gt;
&lt;input type="text" name="field_1"&gt;
&lt;input type="text" name="field_2"&gt;
&lt;input type="submit" value="Press to send these"&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>This is the perl program:</p>
<pre>
#!/usr/bin/perl -T
use strict;
use CGI::Carp qw(fatalsToBrowser);
use CGI;

our (%in); # This is the variable used by CGI::ReadParse below
CGI::ReadParse(); # Tell the module to 'parse' the form 
my ($hfield1, $hfield2, @filecontent);
$hfield1 = $in{field_1};
$hfield2 = $in{field_2};
&amp;content_type;
# open the file
open FILE, "&lt; ../hidden_input_03a.html";
# read it's contents
@filecontent = &lt;FILE&gt;;
# Now, one line at a time
foreach (@filecontent) {
  # see if placeholder _FIELD_01 is on the line;
  # if so, substitute in $hfield1
  $_ =~ s/THIS_IS_FIELD_01/$hfield1/;
  # same thing with next expected field
  $_ =~ s/BANANAS_IN_FIELD_02/$hfield2/;
  # Now print the line, whether substiuted or not
  print $_;
};
close FILE;

sub content_type {
# standard html content-type string
  print "Content-Type: text/html\n\n";
}
</pre>
<p>This is the second html file:</p>
<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Hidden input demo #03&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h2&gt;Hidden input fields&lt;/h2&gt;
&lt;p&gt;press ^U to see the hidden input fields that have been generated using substitution by perl&lt;/p&gt;
&lt;form action="" method="post"&gt;
&lt;input type="hidden" name="hfield1" value="THIS_IS_FIELD_01"&gt;
&lt;input type="hidden" name="hfield2" value="BANANAS_IN_FIELD_02"&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<small><!--#config timefmt="%Y%m%d-%H:%M" -->Last updated: <!--#flastmod file="hidden_input_demo_03.shtml" --></small>
</div> <!-- #content -->
<!-- #exec cgi="/bottom.shtml" -->
</div> <!-- #pagewrap -->
</body>
</html>
