<!DOCTYPE html>
<!--#include virtual="/includes/head.shtml" -->
<body onload="onloadProc()">
<!--#include virtual="/includes/inprogress.shtml" -->
<!--#include virtual="/includes/animation.shtml" -->
<div id="pagewrap">
<!--#include virtual="/includes/sitename.shtml" -->
<div id="topstripe"></div>
<!--#include virtual="/includes/sidemenu.shtml" -->
<div id="content">
<!--#include virtual="/includes/topblurb.shtml" -->
<h1>Control Systems Code Sample 01</h1>
<p>You can use this as a basis for further experimentation.</p>
<pre>
/*
Program:  Control Systems - Skills Demo. Task 01
Purpose:  Monitor temperature, displaying to LCD;
          Give visual indication when temp. exceeds
          given threshhold.
Author:   
Date:     Jan 2014
*/
// LCD library &amp; init
#include &lt;LiquidCrystal.h&gt;
LiquidCrystal lcd(12,11,5,4,3,2);
// some constants
const int temperaturePin = 1;
float cutOff=26;
int hotPin=8;
int coldPin=9;
// setup program
void setup() {
  pinMode (hotPin, OUTPUT);
  pinMode (coldPin, OUTPUT);
  lcd.begin(16, 2);
  lcd.clear();
  lcd.print("Temperature now");
}
// run the program
void loop() {
  float voltage, degreesC, degreesF;
  // get voltage from temp. sensor
  voltage = getVoltage(temperaturePin);
  // Now we'll convert the voltage to degrees Celsius.
  degreesC = (voltage - 0.5) * 100.0;
  lcd.setCursor(0,1);
  lcd.print(degreesC);
  lcd.print("C");
  // give visual indication of over-temp.
  if (degreesC &gt; cutOff) {
    digitalWrite(hotPin, HIGH);
    digitalWrite(coldPin, LOW);
  }
  else {
    digitalWrite(hotPin, LOW);
    digitalWrite(coldPin, HIGH);    
  }
  // repeat once per second, pointless to
  // go faster for this task
  delay(1000);
}

float getVoltage(int pin) {
  // read input pin, multiply by constant for
  // this chip (from data sheet)
  return (analogRead(pin) * 0.004882814);
  
}
</pre>
<small><!--#config timefmt="%Y%m%d-%H:%M" -->Last updated: <!--#flastmod file="SDL_cursor_01.shtml" --></small>
</div> <!-- #content -->
<!--#include virtual="/includes/backtotop.shtml" -->
</div> <!-- #pagewrap -->
</body>
</html>
