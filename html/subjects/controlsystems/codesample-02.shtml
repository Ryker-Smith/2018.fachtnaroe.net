<!DOCTYPE html>
<!--#include virtual="/includes/head.shtml" -->
<body onload="onloadProc()">
<!--#include virtual="/includes/inprogress.shtml" -->
<!--#include virtual="/includes/animation.shtml" -->
<div id="pagewrap">
<!--#include virtual="/includes/sitename.shtml" -->
<div id="topstripe"></div>
<!--#include virtual="/includes/sidemenu.shtml" -->
<div id="content">
<!--#include virtual="/includes/topblurb.shtml" -->
<h1>Control Systems Code Sample 02</h1>
<p>You can use this as a start point for the traffic light control program.<br><b>Note, use as a hint program only, there are errors.</b></p>
<pre>
/*
Program:  
Purpose:  
          
          
Author:   
Date:     
*/

// how many cars before changing
const int sideMax = 3;
// after switching lights, pause for effect
const int pauseTime = 1000; // milliseconds

// setup program
void setup() {

}

// run the program
void loop() {
  // get the time in milliseconds - why?
  int time=millis();
  // check syntax of this
  side=analogRead(sidePin);
  
  if (side matches_some_condition) {
    // add 1 to count of waiting cars
    sideCount++;
    if (sideCount == 1) {
      // we've just had a car arrive, save time
      arrivedAt=millis();
      
    }
  }
  sideLast=side;
  if (sideCount > sideMax) {
    enableSideRoad();
    delay(pauseTime);
    sideCount=0;
  }
  if (do fire station test here) {
    disableBoth();
    delay(pauseTime);
    
  }
  night=(read from a light sensor here)
  if (test night sensor value) {
  
  }
}

void enableSideRoad() {
// switch over the lights here

}


</pre>
<small><!--#config timefmt="%Y%m%d-%H:%M" -->Last updated: <!--#flastmod file="SDL_cursor_01.shtml" --></small>
</div> <!-- #content -->
<!--#include virtual="/includes/backtotop.shtml" -->
</div> <!-- #pagewrap -->
</body>
</html>
